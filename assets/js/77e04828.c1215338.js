"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[7504],{9405:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>s,default:()=>f,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var r=n(4848),l=n(8453);const o={title:"profiles",tag:["backend","spring","profiles"]},s=void 0,c={id:"web/backend/spring/Profiles",title:"profiles",description:"Profiles\ub780?",source:"@site/docs/resource/web/backend/spring/Profiles.md",sourceDirName:"web/backend/spring",slug:"/web/backend/spring/Profiles",permalink:"/resource/web/backend/spring/Profiles",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"profiles",tag:["backend","spring","profiles"]},sidebar:"tutorialSidebar",previous:{title:"N+1 \ubb38\uc81c",permalink:"/resource/web/backend/jpa/n-plus-1-problem"},next:{title:"Batch Performance \uadf9\ud55c\uc73c\ub85c \ub04c\uc5b4\uc62c\ub9ac\uae30",permalink:"/resource/web/backend/spring/batch/batch-performance"}},d={},p=[{value:"Profiles\ub780?",id:"profiles\ub780",level:2},{value:"\uc0ac\uc6a9 \ubc29\uc2dd",id:"\uc0ac\uc6a9-\ubc29\uc2dd",level:2},{value:"spring.config.activate.on-profile",id:"springconfigactivateon-profile",level:2},{value:"Adding Active Profiles",id:"adding-active-profiles",level:2},{value:"Profile Groups",id:"profile-groups",level:2},{value:"Profile-specific Configuration Files",id:"profile-specific-configuration-files",level:2},{value:"Profile-specific Configuration Files",id:"profile-specific-configuration-files-1",level:2},{value:"\uc0ac\uc6a9 \uc608\uc2dc",id:"\uc0ac\uc6a9-\uc608\uc2dc",level:2},{value:"Reference",id:"reference",level:2}];function t(e){const i={a:"a",code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h2,{id:"profiles\ub780",children:"Profiles\ub780?"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"application configuration\uc744 \ubd84\ub9ac\ud558\uace0 \ud2b9\uc815 \ud658\uacbd\uc5d0\uc11c\ub9cc \uc801\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \ub9cc\ub4dc\ub294 \uae30\uc220"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"\uc0ac\uc6a9-\ubc29\uc2dd",children:"\uc0ac\uc6a9 \ubc29\uc2dd"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"@Component"}),",\xa0",(0,r.jsx)(i.code,{children:"@Configuration"}),",\xa0",(0,r.jsx)(i.code,{children:"@ConfigurationProperties"}),"\uc5d0\ub294 \ubaa8\ub450 ",(0,r.jsx)(i.code,{children:"@Profile"})," \uc801\uc6a9\ud558\uc5ec \uc81c\ud55c\uc744 \uac78 \uc218 \uc788\uc74c"]}),"\n",(0,r.jsx)(i.li,{children:"spring.profiles.active \uac12\uc744 \ud1b5\ud574\uc11c \uc5b4\ub5a4 profile\uc744 \uc0ac\uc6a9\ud560 \uac83\uc778\uc9c0 \uc124\uc815 \uac00\ub2a5"}),"\n",(0,r.jsx)(i.li,{children:"--spring.profiles.active=dev,hsqldb \ubc29\uc2dd\uc73c\ub85c command line\uc5d0\uc11c \uc124\uc815\ub3c4 \uac00\ub2a5"}),"\n",(0,r.jsx)(i.li,{children:"\uc6b0\uc120 \uc21c\uc704\ub294 command line > spring.profiles.active \uc124\uc815\uac12"}),"\n",(0,r.jsxs)(i.li,{children:["spring.profiles.active\uac12\uc774 \uc5c6\ub2e4\uba74 default\uac00 \uc790\ub3d9\uc73c\ub85c \uc124\uc815\ub428","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"spring.profiles.default=none\uc774 \uae30\ubcf8\uc774\uace0 \uc6d0\ud558\ub294 profiles\ub97c \uc801\uc6a9\ud574\ub450\uba74 \ub428"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"spring.profiles.active"}),", ",(0,r.jsx)(i.code,{children:"spring.profiles.default"})," \uac12\uc740 ",(0,r.jsx)(i.code,{children:"spring.config.activate.on-profile"}),"\uac00 \uc801\uc6a9\ub418\uc9c0 \uc54a\uc740 \uacf3\uc5d0\uc11c\ub9cc \uc124\uc815\uc774 \uac00\ub2a5\ud558\ub2e4.","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"on-profile\uc774 \ud2b9\uc815 profile\uc5d0 \uc885\uc18d\uc801\uc73c\ub85c \uc801\uc6a9\ud558\ub294 \uac12\uc774\uae30 \ub54c\ubb38"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"springconfigactivateon-profile",children:"spring.config.activate.on-profile"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"\ud2b9\uc815 profile\uc774 \ud65c\uc131\ud654\ub418\uc5b4\uc57c\uc9c0\ub9cc \ud65c\uc131\ud654\uac00 \ub418\ub3c4\ub85d \uc124\uc815\ud558\ub294 \uac12"}),"\n",(0,r.jsx)(i.li,{children:"\uc608\ub97c \ub4e4\uc5b4 spring.config.activate.on-profile = local\uc774\ub77c\uba74 spring.profiles.active=local\uc77c \ub54c \uc801\uc6a9\ub428"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"adding-active-profiles",children:"Adding Active Profiles"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"\ub54c\ub85c\ub294 active profile \uad50\uccb4 \ubcf4\ub2e4\ub3c4 active profile\uc744 \ucd94\uac00\ud558\ub294 \uac8c \ud544\uc694\ud560 \ub54c\uac00 \uc788\ub2e4."}),"\n",(0,r.jsx)(i.li,{children:"spring.profiles.include\ub97c \ud65c\uc6a9\ud574 active profile\uc744 \ucd94\uac00\ud560 \uc218 \uc788\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"profile-groups",children:"Profile Groups"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"spring.profiles.group.production[0]=proddb spring.profiles.group.production[1]=prodmq\n"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"\ud2b9\uc815 profiles\uac00 \ud65c\uc131\ud654\ub418\uc5b4 \uc788\uc744 \ub54c\ub9cc profile\uc744 \ud65c\uc131\ud654\ud558\ub294 \ubc29\ubc95"}),"\n",(0,r.jsx)(i.li,{children:"\uc704\uc640 \uac19\uc774 \uc124\uc815 \ud6c4 spring.profiles.active=production\uc73c\ub85c app\uc744 \uc2e4\ud589\ud558\uba74 production, proddb, prodmq\uac00 \ubaa8\ub450 active profiles\ub85c \uc801\uc6a9\ub41c\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"profile-specific-configuration-files",children:"Profile-specific Configuration Files"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"SpringApplication.setAdditionalProfiles(\u2026\u200b)"}),"\ub97c \ud65c\uc6a9\ud574 \ub85c\uc9c1\uc73c\ub85c\ub3c4 active profiles\ub97c \uc124\uc815\ud560 \uc218 \uc788\ub2e4."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"ConfigurableEnvironment"})," interface\ub97c \uc0ac\uc6a9\ud574\uc11c\ub3c4 \uac00\ub2a5\ud55c\ub370.. \uc0ac\uc6a9\ud558\uc9c0\ub294 \uc54a\uc744 \uac83 \uac19\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"profile-specific-configuration-files-1",children:"Profile-specific Configuration Files"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:".properties"}),", ",(0,r.jsx)(i.code,{children:".yaml"}),", ",(0,r.jsx)(i.code,{children:"@ConfigurationProperties"}),"\ub85c \ud65c\uc131\ud654\ub41c profiles\ub294 \ubaa8\ub450 \ud30c\uc77c\ub85c \uac04\uc8fc\ub418\uc5b4 load\ub41c\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"\uc0ac\uc6a9-\uc608\uc2dc",children:"\uc0ac\uc6a9 \uc608\uc2dc"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:'# application.yml \ud30c\uc77c\n\n# default\nspring:  \nprofiles:  \ndefault: local\n  \n---  \n# dev\nspring:  \nprofiles:  \ngroup:  \nlocal: "infra"\n\t  \n---  \n# dev\nspring:  \nprofiles:  \ngroup:  \ndev: "infra"\n  \n---  \n# prod\nspring:  \nprofiles:  \ngroup:  \nprod: "infra"\n'})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"# application-infra.yml \ud30c\uc77c\n\n# local\nspring:  \nconfig:  \nactivate:  \non-profile: local\n\n# local \uc124\uc815 \uc815\ubcf4\ub4e4\n  \n---  \n# dev\nspring:  \nconfig:  \nactivate:  \non-profile: dev\n\n# dev \uc124\uc815 \uc815\ubcf4\ub4e4\n  \n---  \n# prod\nspring:  \nconfig:  \nactivate:  \non-profile: prod\n\n# prod \uc124\uc815 \uc815\ubcf4\ub4e4\n"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"\uc0ac\ub0b4 \ub300\ub2e4\uc218\uc758 \ud504\ub85c\uc81d\ud2b8\uac00 \uba40\ud2f0 \ubaa8\ub4c8\uc774\uae30 \ub54c\ubb38\uc5d0 \uc124\uc815 \ud30c\uc77c\ub3c4 \ubaa8\ub4c8\ub9c8\ub2e4 \uac00\uc9c0\uace0 \uc788\uac8c \ub428"}),"\n",(0,r.jsxs)(i.li,{children:["local, dev, prod\ub97c ",(0,r.jsx)(i.code,{children:"spring.profiles.group"}),"\uc744 \ud65c\uc6a9\ud574\uc11c \uac01\uac01 \uc0dd\uc131"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"spring.profiles.default"}),"\ub85c default profiles \uc9c0\uc815"]}),"\n",(0,r.jsxs)(i.li,{children:["application-infra.yml \ud30c\uc77c\uc5d0\uc11c ",(0,r.jsx)(i.code,{children:"spring.config.activate.on-profile"}),"\ub85c local, dev, prod \uc124\uc815 \ubd84\ub9ac"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"reference",children:"Reference"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles",children:"spring docs"})}),"\n"]})]})}function f(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>c});var r=n(6540);const l={},o=r.createContext(l);function s(e){const i=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),r.createElement(o.Provider,{value:i},e.children)}}}]);