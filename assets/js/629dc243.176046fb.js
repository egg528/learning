"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[688],{8835:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>r,default:()=>o,frontMatter:()=>s,metadata:()=>a,toc:()=>t});var l=i(4848),c=i(8453);const s={title:"Batch Performance \uadf9\ud55c\uc73c\ub85c \ub04c\uc5b4\uc62c\ub9ac\uae30",tag:["backend","spring","batch","performance"]},r=void 0,a={id:"web/backend/spring/batch/batch-performance",title:"Batch Performance \uadf9\ud55c\uc73c\ub85c \ub04c\uc5b4\uc62c\ub9ac\uae30",description:"1. When (Batch\ub294 \uc5b8\uc81c \uc0ac\uc6a9\ud558\ub294\uac00?)",source:"@site/docs/resource/web/backend/spring/batch/batch-performance.md",sourceDirName:"web/backend/spring/batch",slug:"/web/backend/spring/batch/batch-performance",permalink:"/resource/web/backend/spring/batch/batch-performance",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Batch Performance \uadf9\ud55c\uc73c\ub85c \ub04c\uc5b4\uc62c\ub9ac\uae30",tag:["backend","spring","batch","performance"]},sidebar:"tutorialSidebar",previous:{title:"profiles",permalink:"/resource/web/backend/spring/Profiles"},next:{title:"cache abstraction",permalink:"/resource/category/cache-abstraction"}},h={},t=[{value:"1. When (Batch\ub294 \uc5b8\uc81c \uc0ac\uc6a9\ud558\ub294\uac00?)",id:"1-when-batch\ub294-\uc5b8\uc81c-\uc0ac\uc6a9\ud558\ub294\uac00",level:2},{value:"2. \ub300\ub7c9 \ub370\uc774\ud130 READ",id:"2-\ub300\ub7c9-\ub370\uc774\ud130-read",level:2},{value:"ChunkProcessing",id:"chunkprocessing",level:3},{value:"\ubb38\uc81c\uc810",id:"\ubb38\uc81c\uc810",level:4},{value:"\ud574\uacb0\ucc45 1",id:"\ud574\uacb0\ucc45-1",level:4},{value:"\ud574\uacb0\ucc45 2",id:"\ud574\uacb0\ucc45-2",level:4},{value:"\ud574\uacb0\ucc45 3(13:35)",id:"\ud574\uacb0\ucc45-31335",level:4},{value:"\uc815\ub9ac",id:"\uc815\ub9ac",level:4},{value:"3. \ub370\uc774\ud130 Aggregation \ucc98\ub9ac",id:"3-\ub370\uc774\ud130-aggregation-\ucc98\ub9ac",level:2},{value:"\ubb38\uc81c\uc810",id:"\ubb38\uc81c\uc810-1",level:4},{value:"\ud574\uacb0\ucc45 1 -&gt; GroupBy\ub97c \ud3ec\uae30\ud558\uc790 (\uc9c1\uc811 Aggregation \ud558\uc790)",id:"\ud574\uacb0\ucc45-1---groupby\ub97c-\ud3ec\uae30\ud558\uc790-\uc9c1\uc811-aggregation-\ud558\uc790",level:4},{value:"\ub610 \ub2e4\ub978 \ubb38\uc81c\uc810",id:"\ub610-\ub2e4\ub978-\ubb38\uc81c\uc810",level:4},{value:"\ub610 \ub2e4\ub978 \ud574\uacb0\ucc45",id:"\ub610-\ub2e4\ub978-\ud574\uacb0\ucc45",level:4},{value:"4. \ud6a8\uacfc\uc801\uc778 \ub300\ub7c9 \ub370\uc774\ud130 WRITE",id:"4-\ud6a8\uacfc\uc801\uc778-\ub300\ub7c9-\ub370\uc774\ud130-write",level:2},{value:"5. Batch \uad6c\ub3d9 \ud658\uacbd",id:"5-batch-\uad6c\ub3d9-\ud658\uacbd",level:2},{value:"\ubb38\uc81c\uc810",id:"\ubb38\uc81c\uc810-2",level:3},{value:"\ud574\uacb0 \ubc29\ubc95: Spring Cloud Data Flow",id:"\ud574\uacb0-\ubc29\ubc95-spring-cloud-data-flow",level:3},{value:"Reference",id:"reference",level:2}];function d(e){const n={a:"a",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"1-when-batch\ub294-\uc5b8\uc81c-\uc0ac\uc6a9\ud558\ub294\uac00",children:"1. When (Batch\ub294 \uc5b8\uc81c \uc0ac\uc6a9\ud558\ub294\uac00?)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ud2b9\uc815 \uc2dc\uac04\uc5d0 \ub9ce\uc740 \ub370\uc774\ud130\ub97c \uc77c\uad04 \ucc98\ub9ac\ud560 \ub54c"}),"\n",(0,l.jsxs)(n.li,{children:["\ud06c\uac8c 3\uac00\uc9c0","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uc77c\uad04 \uc0dd\uc131 (READ - CREATE - WRITE)"}),"\n",(0,l.jsx)(n.li,{children:"\uc77c\uad04 \uc218\uc815 (READ - UPDATE - WRITE)"}),"\n",(0,l.jsx)(n.li,{children:"\ud1b5\uacc4 (SUM READ - CREATE - WRITE)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"2-\ub300\ub7c9-\ub370\uc774\ud130-read",children:"2. \ub300\ub7c9 \ub370\uc774\ud130 READ"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ub300\uac1c Reader\uac00 \ud070 \ube44\uc911\uc744 \ucc28\uc9c0\ud558\uace0 \uc788\uc74c (\ubcf5\uc7a1\ud55c \uc870\ud68c \ub85c\uc9c1 \ub54c\ubb38\uc5d0)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"chunkprocessing",children:"ChunkProcessing"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ub098\ub204\uc5b4 \ucc98\ub9ac\ud558\ub294 \ubc29\uc2dd"}),"\n",(0,l.jsx)(n.li,{children:"\ub300\ub7c9 \uac74\uc744 \ucc98\ub9ac\ud560 \ub54c \ud544\uc218\uc801\uc774\ub2e4."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"\ubb38\uc81c\uc810",children:"\ubb38\uc81c\uc810"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"kakao-batch1.png",src:i(3127).A+"",width:"1908",height:"956"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uae30\ubcf8\uc801\uc73c\ub85c limit Offset\uc744 \uc0ac\uc6a9\ud55c\ub2e4."}),"\n",(0,l.jsx)(n.li,{children:"\ud558\uc9c0\ub9cc Offset\uc774 \ucee4\uc9c8\uc218\ub85d \uad49\uc7a5\ud788 \ub290\ub824\uc9c4\ub2e4."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"\ud574\uacb0\ucc45-1",children:"\ud574\uacb0\ucc45 1"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"kakao-batch2.png",src:i(5020).A+"",width:"1960",height:"1000"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Offset\uc744 0\uc73c\ub85c \uc720\uc9c0\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c Query \uc0ac\uc6a9"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"\ud574\uacb0\ucc45-2",children:"\ud574\uacb0\ucc45 2"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"kakao-batch3.png",src:i(7909).A+"",width:"1974",height:"958"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Cursor\ub97c \uc0ac\uc6a9\ud560 \uac83"}),"\n",(0,l.jsxs)(n.li,{children:["Cursor \uc9c0\uc6d0 ItemReader","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"JdbcCursorItemReader"}),"\n",(0,l.jsx)(n.li,{children:"HibernateCursorItemReader"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"\ud574\uacb0\ucc45-31335",children:"\ud574\uacb0\ucc45 3(13:35)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"kakao-batch4.png",src:i(8653).A+"",width:"1940",height:"958"})}),"\n",(0,l.jsx)(n.h4,{id:"\uc815\ub9ac",children:"\uc815\ub9ac"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"kakao-batch5.png",src:i(9891).A+"",width:"1946",height:"1056"})}),"\n",(0,l.jsx)(n.h2,{id:"3-\ub370\uc774\ud130-aggregation-\ucc98\ub9ac",children:"3. \ub370\uc774\ud130 Aggregation \ucc98\ub9ac"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ud1b5\uacc4\ub97c \ub9cc\ub4e4 \ub54c \ub300\ubd80\ubd84 Batch\ub85c \uac1c\ubc1c\uc744 \uc0dd\uac01\ud55c\ub2e4. (GroupBy & Sum)"}),"\n",(0,l.jsx)(n.li,{children:"\ud558\uc9c0\ub9cc, \ub370\uc774\ud130\uac00 \ub9ce\uc544\uc9c0\uace0 \ucffc\ub9ac\uac00 \ubcf5\uc7a1\ud574\uc838\ub3c4 \ubb38\uc81c\uac00 \uc5c6\uc744\uae4c?"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"\ubb38\uc81c\uc810-1",children:"\ubb38\uc81c\uc810"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"kakao-batch6.png",src:i(1755).A+"",width:"1958",height:"984"})}),"\n",(0,l.jsx)(n.h4,{id:"\ud574\uacb0\ucc45-1---groupby\ub97c-\ud3ec\uae30\ud558\uc790-\uc9c1\uc811-aggregation-\ud558\uc790",children:"\ud574\uacb0\ucc45 1 -> GroupBy\ub97c \ud3ec\uae30\ud558\uc790 (\uc9c1\uc811 Aggregation \ud558\uc790)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"kakao-batch7.png",src:i(5265).A+"",width:"1988",height:"1094"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Aggregation\uc744 \uc9c1\uc811\ud558\uae30 \uc704\ud574\uc11c\ub294 App\uc5d0 \ub300\uc6a9\ub7c9 \ub370\uc774\ud130\ub97c \uc9c1\uc811 \uc62c\ub824\uc57c \ud55c\ub2e4..."}),"\n",(0,l.jsx)(n.li,{children:"\ub54c\ubb38\uc5d0 Redis\ub97c \ud65c\uc6a9!"}),"\n",(0,l.jsxs)(n.li,{children:["\uadfc\uac70","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uc5f0\uc0b0 \uba85\ub839\uc5b4 \uc9c0\uc6d0"}),"\n",(0,l.jsx)(n.li,{children:"50\ub9cc\uac1c\ub294 \ub109\ub109\ud788 \uc800\uc7a5 \uac00\ub2a5"}),"\n",(0,l.jsx)(n.li,{children:"\ube60\ub978 \uc800\uc7a5 + \uc601\uad6c \uc800\uc7a5 X -> Aggregation\uc6a9\uc73c\ub85c \uc801\ud569"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"\ub610-\ub2e4\ub978-\ubb38\uc81c\uc810",children:"\ub610 \ub2e4\ub978 \ubb38\uc81c\uc810"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"kakao-batch8.png",src:i(6422).A+"",width:"1926",height:"1008"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ub300\uc6a9\ub7c9 \uac74\uc744 \ubaa8\ub450 App\uc5d0 \uc62c\ub9ac\uc9c0\ub294 \uc54a\uc9c0\ub9cc"}),"\n",(0,l.jsx)(n.li,{children:"\ubaa8\ub4e0 \uac74\ubcc4\ub85c \ub124\ud2b8\uc6cc\ud06c I/O\uac00 \ubc1c\uc0dd\ud55c\ub2e4"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"\ub610-\ub2e4\ub978-\ud574\uacb0\ucc45",children:"\ub610 \ub2e4\ub978 \ud574\uacb0\ucc45"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Redis Pipeline \uac1c\ubc1c"}),"\n",(0,l.jsx)(n.li,{children:"Chunk\ub2f9 1\ubc88 Redis\uc5d0 \uc694\uccad\uc744 \ubcf4\ub0c4"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"4-\ud6a8\uacfc\uc801\uc778-\ub300\ub7c9-\ub370\uc774\ud130-write",children:"4. \ud6a8\uacfc\uc801\uc778 \ub300\ub7c9 \ub370\uc774\ud130 WRITE"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Writer\ub97c \uac1c\uc120\ud560 \ub54c \uace0\ub824\uc0ac\ud56d"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\uc77c\uad04\ub85c \ucffc\ub9ac \uc694\uccad"}),"\n",(0,l.jsx)(n.li,{children:"\uba85\uc2dc\uc801\uc778 \ucffc\ub9ac \uc694\uccad (\ud544\uc694\ud55c \uceec\ub7fc\ub9cc Update / \uc601\uc18d\uc131 \ucee8\ud14d\uc2a4\ud2b8 \uc0ac\uc6a9 X)"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"JPA\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc740 \uc774\uc720"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uc77d\uae30 / \uc4f0\uae30 \uad6c\uac04\uc774 \uc815\ud574\uc9c4 Batch\uc5d0\uc11c\ub294 Drity Checking\uacfc \uc601\uc18d\uc131 \uad00\ub9ac\ub294 \ud544\uc694\ud558\uc9c0 \uc54a\uc740 \uae30\ub2a5\uc784."}),"\n",(0,l.jsx)(n.li,{children:"Update\ud560 \ub54c \ubd88\ud544\uc694\ud55c \uceec\ub7fc\ub3c4 Update"}),"\n",(0,l.jsx)(n.li,{children:"Batch Insert \uc9c0\uc6d0\uc774 \uc5b4\ub824\uc6c0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"5-batch-\uad6c\ub3d9-\ud658\uacbd",children:"5. Batch \uad6c\ub3d9 \ud658\uacbd"}),"\n",(0,l.jsx)(n.h3,{id:"\ubb38\uc81c\uc810-2",children:"\ubb38\uc81c\uc810"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Batch\ub294 \uc5b4\ub5a4 \uc2dc\uac04 \ub54c\uc5d0 \uba87 \uac1c\uc758 Batch\uac00 \ub3c4\ub294\uc9c0 \uc54c\uae30 \uc5b4\ub824\uc6cc, \uc790\uc6d0 \uad00\ub9ac\uac00 \uc5b4\ub835\ub2e4.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uac19\uc740 \ubb3c\ub9ac \uc11c\ubc84\uc5d0\uc11c \uc5ec\ub7ec Batch\uac00 \ub3d9\uc2dc\uc5d0 \ub3c8\ub2e4\uba74 OOM\uc744 \ubc1c\uc0dd\uc2dc\ud0ac \uc218\ub3c4 \uc788\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Batch\ub294 \ud55c \ub3d9\uc791\uc5d0 \uac78\ub9ac\ub294 \uc2dc\uac04\uc774 \uae38\uae30 \ub54c\ubb38\uc5d0 \ub85c\uadf8\uae30 \ube48\uc57d\ud558\ub2e4."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\ud574\uacb0-\ubc29\ubc95-spring-cloud-data-flow",children:"\ud574\uacb0 \ubc29\ubc95: Spring Cloud Data Flow"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"K8s\uc640 \uc644\ubcbd\ud55c \uc5f0\ub3d9\uc73c\ub85c Batch \uc2e4\ud589 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158"}),"\n",(0,l.jsx)(n.li,{children:"\uc720\uc6a9\ud55c \uc815\ubcf4 \uc2dc\uac01\uc801\uc73c\ub85c \ubaa8\ub2c8\ud130\ub9c1"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.youtube.com/watch?v=2IIwQDIi3ys",children:"Batch Performance \uadf9\ud55c\uc73c\ub85c \ub04c\uc5b4\uc62c\ub9ac\uae30: 1\uc5b5 \uac74 \ub370\uc774\ud130 \ucc98\ub9ac\ub97c \uc704\ud55c \ub178\ub825 / if(kakao)dev2022"})}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},3127:(e,n,i)=>{i.d(n,{A:()=>l});const l=i.p+"assets/images/kakao-batch1-c770771c7bc537eb0925afb5a1596ae3.png"},5020:(e,n,i)=>{i.d(n,{A:()=>l});const l=i.p+"assets/images/kakao-batch2-3c89e5e33b9ca5d27c3c75cd49a7b502.png"},7909:(e,n,i)=>{i.d(n,{A:()=>l});const l=i.p+"assets/images/kakao-batch3-065d2267d89072130ff993e6f83ee19e.png"},8653:(e,n,i)=>{i.d(n,{A:()=>l});const l=i.p+"assets/images/kakao-batch4-a53c30b70431f9599f89c553c9def0d0.png"},9891:(e,n,i)=>{i.d(n,{A:()=>l});const l=i.p+"assets/images/kakao-batch5-34ef6242145ae93870d0831ea77f82f2.png"},1755:(e,n,i)=>{i.d(n,{A:()=>l});const l=i.p+"assets/images/kakao-batch6-85957054836b17069dc49b4f8d615d74.png"},5265:(e,n,i)=>{i.d(n,{A:()=>l});const l=i.p+"assets/images/kakao-batch7-76ef6d8c4054c79b26b9332681acb19a.png"},6422:(e,n,i)=>{i.d(n,{A:()=>l});const l=i.p+"assets/images/kakao-batch8-2d47dbbe1c148be10ac9e9dbdcffe2cd.png"},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var l=i(6540);const c={},s=l.createContext(c);function r(e){const n=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);