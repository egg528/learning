"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4666],{3905:(e,n,i)=>{i.d(n,{Zo:()=>s,kt:()=>g});var r=i(7294);function t(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function l(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function o(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?l(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function a(e,n){if(null==e)return{};var i,r,t=function(e,n){if(null==e)return{};var i,r,t={},l=Object.keys(e);for(r=0;r<l.length;r++)i=l[r],n.indexOf(i)>=0||(t[i]=e[i]);return t}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)i=l[r],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(t[i]=e[i])}return t}var p=r.createContext({}),c=function(e){var n=r.useContext(p),i=n;return e&&(i="function"==typeof e?e(n):o(o({},n),e)),i},s=function(e){var n=c(e.components);return r.createElement(p.Provider,{value:n},e.children)},f="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var i=e.components,t=e.mdxType,l=e.originalType,p=e.parentName,s=a(e,["components","mdxType","originalType","parentName"]),f=c(i),d=t,g=f["".concat(p,".").concat(d)]||f[d]||u[d]||l;return i?r.createElement(g,o(o({ref:n},s),{},{components:i})):r.createElement(g,o({ref:n},s))}));function g(e,n){var i=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var l=i.length,o=new Array(l);o[0]=d;var a={};for(var p in n)hasOwnProperty.call(n,p)&&(a[p]=n[p]);a.originalType=e,a[f]="string"==typeof e?e:t,o[1]=a;for(var c=2;c<l;c++)o[c]=i[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,i)}d.displayName="MDXCreateElement"},2756:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var r=i(7462),t=(i(7294),i(3905));const l={title:"Profiles",tag:["backend","spring","profiles"]},o=void 0,a={unversionedId:"dev-resource/backend/spring/Profiles",id:"dev-resource/backend/spring/Profiles",title:"Profiles",description:"\uae00 \ub9c1\ud06c",source:"@site/docs/resource/dev-resource/backend/spring/Profiles.md",sourceDirName:"dev-resource/backend/spring",slug:"/dev-resource/backend/spring/Profiles",permalink:"/resource/dev-resource/backend/spring/Profiles",draft:!1,tags:[],version:"current",frontMatter:{title:"Profiles",tag:["backend","spring","profiles"]},sidebar:"tutorialSidebar",previous:{title:"Custom Validation",permalink:"/resource/dev-resource/backend/spring/ConstraintValidator"},next:{title:"StopWatch",permalink:"/resource/dev-resource/backend/spring/StopWatch"}},p={},c=[{value:"\uae00 \ub9c1\ud06c",id:"\uae00-\ub9c1\ud06c",level:2},{value:"\ub0b4\uc6a9 \uc815\ub9ac",id:"\ub0b4\uc6a9-\uc815\ub9ac",level:2},{value:"Profiles\ub780?",id:"profiles\ub780",level:3},{value:"\uc0ac\uc6a9 \ubc29\uc2dd",id:"\uc0ac\uc6a9-\ubc29\uc2dd",level:3},{value:"spring.config.activate.on-profile",id:"springconfigactivateon-profile",level:3},{value:"Adding Active Profiles",id:"adding-active-profiles",level:3},{value:"Profile Groups",id:"profile-groups",level:3},{value:"Profile-specific Configuration Files",id:"profile-specific-configuration-files",level:3},{value:"Profile-specific Configuration Files",id:"profile-specific-configuration-files-1",level:3},{value:"\uc0ac\uc6a9 \uc608\uc2dc",id:"\uc0ac\uc6a9-\uc608\uc2dc",level:3}],s={toc:c},f="wrapper";function u(e){let{components:n,...i}=e;return(0,t.kt)(f,(0,r.Z)({},s,i,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h2",{id:"\uae00-\ub9c1\ud06c"},"\uae00 \ub9c1\ud06c"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles"}))),(0,t.kt)("h2",{id:"\ub0b4\uc6a9-\uc815\ub9ac"},"\ub0b4\uc6a9 \uc815\ub9ac"),(0,t.kt)("h3",{id:"profiles\ub780"},"Profiles\ub780?"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"application configuration\uc744 \ubd84\ub9ac\ud558\uace0 \ud2b9\uc815 \ud658\uacbd\uc5d0\uc11c\ub9cc \uc801\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \ub9cc\ub4dc\ub294 \uae30\uc220")),(0,t.kt)("h3",{id:"\uc0ac\uc6a9-\ubc29\uc2dd"},"\uc0ac\uc6a9 \ubc29\uc2dd"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"@Component"),",\xa0",(0,t.kt)("inlineCode",{parentName:"li"},"@Configuration"),",\xa0",(0,t.kt)("inlineCode",{parentName:"li"},"@ConfigurationProperties"),"\uc5d0\ub294 \ubaa8\ub450 ",(0,t.kt)("inlineCode",{parentName:"li"},"@Profile")," \uc801\uc6a9\ud558\uc5ec \uc81c\ud55c\uc744 \uac78 \uc218 \uc788\uc74c"),(0,t.kt)("li",{parentName:"ul"},"spring.profiles.active \uac12\uc744 \ud1b5\ud574\uc11c \uc5b4\ub5a4 profile\uc744 \uc0ac\uc6a9\ud560 \uac83\uc778\uc9c0 \uc124\uc815 \uac00\ub2a5"),(0,t.kt)("li",{parentName:"ul"},"--spring.profiles.active=dev,hsqldb \ubc29\uc2dd\uc73c\ub85c command line\uc5d0\uc11c \uc124\uc815\ub3c4 \uac00\ub2a5"),(0,t.kt)("li",{parentName:"ul"},"\uc6b0\uc120 \uc21c\uc704\ub294 command line > spring.profiles.active \uc124\uc815\uac12"),(0,t.kt)("li",{parentName:"ul"},"spring.profiles.active\uac12\uc774 \uc5c6\ub2e4\uba74 default\uac00 \uc790\ub3d9\uc73c\ub85c \uc124\uc815\ub428",(0,t.kt)("ul",{parentName:"li"},(0,t.kt)("li",{parentName:"ul"},"spring.profiles.default=none\uc774 \uae30\ubcf8\uc774\uace0 \uc6d0\ud558\ub294 profiles\ub97c \uc801\uc6a9\ud574\ub450\uba74 \ub428"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"spring.profiles.active"),", ",(0,t.kt)("inlineCode",{parentName:"li"},"spring.profiles.default")," \uac12\uc740 ",(0,t.kt)("inlineCode",{parentName:"li"},"spring.config.activate.on-profile"),"\uac00 \uc801\uc6a9\ub418\uc9c0 \uc54a\uc740 \uacf3\uc5d0\uc11c\ub9cc \uc124\uc815\uc774 \uac00\ub2a5\ud558\ub2e4.",(0,t.kt)("ul",{parentName:"li"},(0,t.kt)("li",{parentName:"ul"},"on-profile\uc774 \ud2b9\uc815 profile\uc5d0 \uc885\uc18d\uc801\uc73c\ub85c \uc801\uc6a9\ud558\ub294 \uac12\uc774\uae30 \ub54c\ubb38")))),(0,t.kt)("h3",{id:"springconfigactivateon-profile"},"spring.config.activate.on-profile"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\ud2b9\uc815 profile\uc774 \ud65c\uc131\ud654\ub418\uc5b4\uc57c\uc9c0\ub9cc \ud65c\uc131\ud654\uac00 \ub418\ub3c4\ub85d \uc124\uc815\ud558\ub294 \uac12"),(0,t.kt)("li",{parentName:"ul"},"\uc608\ub97c \ub4e4\uc5b4 spring.config.activate.on-profile = local\uc774\ub77c\uba74 spring.profiles.active=local\uc77c \ub54c \uc801\uc6a9\ub428")),(0,t.kt)("h3",{id:"adding-active-profiles"},"Adding Active Profiles"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\ub54c\ub85c\ub294 active profile \uad50\uccb4 \ubcf4\ub2e4\ub3c4 active profile\uc744 \ucd94\uac00\ud558\ub294 \uac8c \ud544\uc694\ud560 \ub54c\uac00 \uc788\ub2e4."),(0,t.kt)("li",{parentName:"ul"},"spring.profiles.include\ub97c \ud65c\uc6a9\ud574 active profile\uc744 \ucd94\uac00\ud560 \uc218 \uc788\ub2e4.")),(0,t.kt)("h3",{id:"profile-groups"},"Profile Groups"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"spring.profiles.group.production[0]=proddb spring.profiles.group.production[1]=prodmq\n")),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\ud2b9\uc815 profiles\uac00 \ud65c\uc131\ud654\ub418\uc5b4 \uc788\uc744 \ub54c\ub9cc profile\uc744 \ud65c\uc131\ud654\ud558\ub294 \ubc29\ubc95"),(0,t.kt)("li",{parentName:"ul"},"\uc704\uc640 \uac19\uc774 \uc124\uc815 \ud6c4 spring.profiles.active=production\uc73c\ub85c app\uc744 \uc2e4\ud589\ud558\uba74 production, proddb, prodmq\uac00 \ubaa8\ub450 active profiles\ub85c \uc801\uc6a9\ub41c\ub2e4.")),(0,t.kt)("h3",{id:"profile-specific-configuration-files"},"Profile-specific Configuration Files"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"SpringApplication.setAdditionalProfiles(\u2026\u200b)"),"\ub97c \ud65c\uc6a9\ud574 \ub85c\uc9c1\uc73c\ub85c\ub3c4 active profiles\ub97c \uc124\uc815\ud560 \uc218 \uc788\ub2e4."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"ConfigurableEnvironment")," interface\ub97c \uc0ac\uc6a9\ud574\uc11c\ub3c4 \uac00\ub2a5\ud55c\ub370.. \uc0ac\uc6a9\ud558\uc9c0\ub294 \uc54a\uc744 \uac83 \uac19\ub2e4.")),(0,t.kt)("h3",{id:"profile-specific-configuration-files-1"},"Profile-specific Configuration Files"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},".properties"),", ",(0,t.kt)("inlineCode",{parentName:"li"},".yaml"),", ",(0,t.kt)("inlineCode",{parentName:"li"},"@ConfigurationProperties"),"\ub85c \ud65c\uc131\ud654\ub41c profiles\ub294 \ubaa8\ub450 \ud30c\uc77c\ub85c \uac04\uc8fc\ub418\uc5b4 load\ub41c\ub2e4.")),(0,t.kt)("h3",{id:"\uc0ac\uc6a9-\uc608\uc2dc"},"\uc0ac\uc6a9 \uc608\uc2dc"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},'# application.yml \ud30c\uc77c\n\n# default  \nspring:  \n    profiles:  \n        default: local  \n  \n---  \n# dev  \nspring:  \n    profiles:  \n        group:  \n            local: "infra"  \n      \n---  \n# dev  \nspring:  \n    profiles:  \n        group:  \n            dev: "infra"  \n  \n---  \n# prod  \nspring:  \n    profiles:  \n        group:  \n            prod: "infra"\n')),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"# application-infra.yml \ud30c\uc77c\n\n# local  \nspring:  \n    config:  \n        activate:  \n            on-profile: local  \n  \n# local \uc124\uc815 \uc815\ubcf4\ub4e4\n  \n---  \n# dev  \nspring:  \n    config:  \n        activate:  \n            on-profile: dev  \n  \n# dev \uc124\uc815 \uc815\ubcf4\ub4e4\n  \n---  \n# prod  \nspring:  \n    config:  \n        activate:  \n            on-profile: prod\n\n# prod \uc124\uc815 \uc815\ubcf4\ub4e4\n")),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\uc0ac\ub0b4 \ub300\ub2e4\uc218\uc758 \ud504\ub85c\uc81d\ud2b8\uac00 \uba40\ud2f0 \ubaa8\ub4c8\uc774\uae30 \ub54c\ubb38\uc5d0 \uc124\uc815 \ud30c\uc77c\ub3c4 \ubaa8\ub4c8\ub9c8\ub2e4 \uac00\uc9c0\uace0 \uc788\uac8c \ub428"),(0,t.kt)("li",{parentName:"ul"},"local, dev, prod\ub97c ",(0,t.kt)("inlineCode",{parentName:"li"},"spring.profiles.group"),"\uc744 \ud65c\uc6a9\ud574\uc11c \uac01\uac01 \uc0dd\uc131"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"spring.profiles.default"),"\ub85c default profiles \uc9c0\uc815"),(0,t.kt)("li",{parentName:"ul"},"application-infra.yml \ud30c\uc77c\uc5d0\uc11c ",(0,t.kt)("inlineCode",{parentName:"li"},"spring.config.activate.on-profile"),"\ub85c local, dev, prod \uc124\uc815 \ubd84\ub9ac")))}u.isMDXComponent=!0}}]);