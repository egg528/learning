"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[5307],{3749:n=>{n.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"/spring-batch-job-launcher","metadata":{"permalink":"/spring-batch-job-launcher","source":"@site/blog/spring-batch-job-launcher.md","title":"Spring Batch \ud30c\ud5e4\uce58\uae30 - JobLauncher","description":"\uc774 \uae00\uc740 Spring Batch\uc758 JobLauncher\uc640 \uadf8 \uad6c\ud604\uccb4\ub4e4\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. JobLauncher\ub294 Job\uacfc JobParameters\ub97c \ubc1b\uc544 Job\uc744 \uc2e4\ud589\ud558\ub294 \uc5ed\ud560\uc744 \ud558\uba70, \uc774\ub97c \ud1b5\ud574 \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uad6c\uccb4\uc801\uc778 \uad6c\ud604\uccb4\uc5d0 \uc758\uc874\ud558\uc9c0 \uc54a\uace0 Batch \uc791\uc5c5\uc744 \uc2e4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c, Spring Boot\uc758 AutoConfiguration\uc744 \ud1b5\ud574 TaskExecutorJobLauncher\uac00 \uc790\ub3d9\uc73c\ub85c Bean\uc73c\ub85c \ub4f1\ub85d\ub418\ub294 \uacfc\uc815\uc744 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4. JobLauncher\uc758 \ub3d9\uc791 \uc6d0\ub9ac\uc640 SimpleJobLauncher\uc758 \uad6c\ud604 \uc138\ubd80\uc0ac\ud56d\uc744 \ud1b5\ud574 Batch\uc758 \ud575\uc2ec\uc801\uc778 \ub3d9\uc791 \ubc29\uc2dd\uc744 \uc774\ud574\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","date":"2024-05-23T00:00:00.000Z","tags":[{"label":"spring","permalink":"/tags/spring"},{"label":"batch","permalink":"/tags/batch"}],"readingTime":6.735,"hasTruncateMarker":true,"authors":[{"name":"\uad8c\uc6b0\uc11d","title":"Server Developer","url":"https://github.com/egg528","imageURL":"https://avatars.githubusercontent.com/u/62459196?v=4","key":"woosuk"}],"frontMatter":{"title":"Spring Batch \ud30c\ud5e4\uce58\uae30 - JobLauncher","description":"\uc774 \uae00\uc740 Spring Batch\uc758 JobLauncher\uc640 \uadf8 \uad6c\ud604\uccb4\ub4e4\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. JobLauncher\ub294 Job\uacfc JobParameters\ub97c \ubc1b\uc544 Job\uc744 \uc2e4\ud589\ud558\ub294 \uc5ed\ud560\uc744 \ud558\uba70, \uc774\ub97c \ud1b5\ud574 \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uad6c\uccb4\uc801\uc778 \uad6c\ud604\uccb4\uc5d0 \uc758\uc874\ud558\uc9c0 \uc54a\uace0 Batch \uc791\uc5c5\uc744 \uc2e4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c, Spring Boot\uc758 AutoConfiguration\uc744 \ud1b5\ud574 TaskExecutorJobLauncher\uac00 \uc790\ub3d9\uc73c\ub85c Bean\uc73c\ub85c \ub4f1\ub85d\ub418\ub294 \uacfc\uc815\uc744 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4. JobLauncher\uc758 \ub3d9\uc791 \uc6d0\ub9ac\uc640 SimpleJobLauncher\uc758 \uad6c\ud604 \uc138\ubd80\uc0ac\ud56d\uc744 \ud1b5\ud574 Batch\uc758 \ud575\uc2ec\uc801\uc778 \ub3d9\uc791 \ubc29\uc2dd\uc744 \uc774\ud574\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","authors":["woosuk"],"tags":["spring","batch"],"date":"2024-05-23T00:00:00.000Z"},"unlisted":false,"nextItem":{"title":"Annotation \uae30\ubc18\uc758 ApplicationContext Bean \ub4f1\ub85d \uacfc\uc815 \ud30c\ud5e4\uce58\uae30 (2)","permalink":"/annotation-config-application-context2"}},"content":"**:white_check_mark: ChatGPT \uc694\uc57d**   \\n\uc774 \uae00\uc740 Spring Batch\uc758 JobLauncher\uc640 \uadf8 \uad6c\ud604\uccb4\ub4e4\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. JobLauncher\ub294 Job\uacfc JobParameters\ub97c \ubc1b\uc544 Job\uc744 \uc2e4\ud589\ud558\ub294 \uc5ed\ud560\uc744 \ud558\uba70, \uc774\ub97c \ud1b5\ud574 \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uad6c\uccb4\uc801\uc778 \uad6c\ud604\uccb4\uc5d0 \uc758\uc874\ud558\uc9c0 \uc54a\uace0 Batch \uc791\uc5c5\uc744 \uc2e4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c, Spring Boot\uc758 AutoConfiguration\uc744 \ud1b5\ud574 TaskExecutorJobLauncher\uac00 \uc790\ub3d9\uc73c\ub85c Bean\uc73c\ub85c \ub4f1\ub85d\ub418\ub294 \uacfc\uc815\uc744 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4. JobLauncher\uc758 \ub3d9\uc791 \uc6d0\ub9ac\uc640 SimpleJobLauncher\uc758 \uad6c\ud604 \uc138\ubd80\uc0ac\ud56d\uc744 \ud1b5\ud574 Batch\uc758 \ud575\uc2ec\uc801\uc778 \ub3d9\uc791 \ubc29\uc2dd\uc744 \uc774\ud574\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\x3c!-- truncate --\x3e\\n<br></br>\\n\\n## JobLauncher\\n---\\n![batch-stereotypes.jpg](img/batch-stereotypes.jpg)\\n```java\\n@FunctionalInterface  \\npublic interface JobLauncher {  \\n    JobExecution run(Job job, JobParameters jobParameters) throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException, JobParametersInvalidException;  \\n}\\n```\\nJobLauncher\ub294 Functional Interface\ub85c Job\uacfc JobParameters\ub97c \ub9e4\uac1c\ubcc0\uc218\ub85c \ubc1b\uc544 Job\uc744 \uc2e4\ud589\ud558\ub294 \uc5ed\ud560\uc744 \ud55c\ub2e4. \\nspring-batch-core\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 JobLauncher \uad6c\ud604\uccb4\ub294 SimpleJobLauncher\uc640  TaskExecutorJobLauncher\uac00 \uc788\ub294\ub370 5.1.1 version \uae30\uc900 SimpleJobLauncher\ub294 Deprecated\ub41c \uc0c1\ud0dc\uc774\ub2e4. \\n<br></br>\\n\\n![jobLauncher.jpg](img/jobLauncher.jpg)\\n\ub2f9\uc5f0\ud788 \uba85\uc2dc\uc801\uc778 \uc124\uc815 \uc5c6\uc774 Batch Application\uc744 \uc2e4\ud589\ud558\uba74 TaskExecutorJobLauncher\uac00 Bean\uc73c\ub85c \ub4f1\ub85d\ub41c\ub2e4. \\n\uadf8\ub7f0\ub370 TaskExecutorJobLauncher\ub294 \uc5b4\ub5bb\uac8c Bean\uc73c\ub85c \ub4f1\ub85d\ub41c \uac78\uae4c.\\n<br></br>\\n\\n\\n### Spring Boot AutoConfiguration\\n![auto-configuration.jpg](img/auto-configuration.jpg)\\nSpring Boot\uc5d0\ub294 AutoConfiguration\uc774\ub77c\ub294 \uae30\ub2a5\uc774 \uc788\ub2e4. \ub9d0 \uadf8\ub300\ub85c \uc124\uc815\uc744 \uc790\ub3d9\uc73c\ub85c \uad6c\uc131\ud574\uc8fc\ub294 \uac83\uc774\ub2e4. \\n\uadf8 \uc911 BatchAutoConfiguration\uc774 \uc874\uc7ac\ud558\ub294\ub370 Batch\ub97c \uc704\ud55c \uc124\uc815\ub4e4\uc744 \uc790\ub3d9\uc73c\ub85c \uad6c\uc131\ud574\uc900\ub2e4.\\n<br></br>\\n\\n```java\\npackage org.springframework.boot.autoconfigure.batch;\\n\\n@AutoConfiguration(  \\n    after = {HibernateJpaAutoConfiguration.class, TransactionAutoConfiguration.class}  \\n)  \\n@ConditionalOnClass({JobLauncher.class, DataSource.class, DatabasePopulator.class})  \\n@ConditionalOnBean({DataSource.class, PlatformTransactionManager.class})  \\n@ConditionalOnMissingBean(  \\n    value = {DefaultBatchConfiguration.class},  \\n    annotation = {EnableBatchProcessing.class}  \\n)  \\n@EnableConfigurationProperties({BatchProperties.class})  \\n@Import({DatabaseInitializationDependencyConfigurer.class})  \\npublic class BatchAutoConfiguration {\\n\\n\\n\\t@Configuration(  \\n\\t    proxyBeanMethods = false  \\n\\t)  \\n\\tstatic class SpringBootBatchConfiguration extends DefaultBatchConfiguration {\\n\\t\\t...\\n\\t}\\n}\\n```\\n\ub2f9\uc5f0\ud788 \ubaa8\ub4e0 Spring Application\uc5d0\uc11c \uc801\uc6a9\ub418\uba74 \uc548 \ub418\uae30 \ub54c\ubb38\uc5d0 BatchAutoConfiguration\uac00 Bean\uc73c\ub85c \ub4f1\ub85d\ub418\uae30 \uc704\ud55c \uc870\uac74\ub4e4\uc774 Annotation\uc73c\ub85c \uc794\ub729 \uad6c\uc131\ub418\uc5b4 \uc788\ub2e4. \\nBatchAutoConfiguration\uc5d0\ub294 \uc5ec\ub7ec Bean\uacfc Configuration class\ub4e4\uc774 \uc788\uc9c0\ub9cc JobLauncher\ub294 SpringBootBatchConfiguration\uc5d0 \uc758\ud574 \ub4f1\ub85d\ub41c\ub2e4.\\n<br></br>\\n\\n\\n```java\\n@Configuration(  \\n    proxyBeanMethods = false  \\n)  \\n@Import({ScopeConfiguration.class})  \\npublic class DefaultBatchConfiguration implements ApplicationContextAware {\\n\\n\\t@Bean  \\n\\tpublic JobLauncher jobLauncher() throws BatchConfigurationException {  \\n\\t    TaskExecutorJobLauncher taskExecutorJobLauncher = new TaskExecutorJobLauncher();  \\n\\t    taskExecutorJobLauncher.setJobRepository(this.jobRepository());  \\n\\t    taskExecutorJobLauncher.setTaskExecutor(this.getTaskExecutor());  \\n\\t  \\n\\t    try {  \\n\\t        taskExecutorJobLauncher.afterPropertiesSet();  \\n\\t        return taskExecutorJobLauncher;  \\n\\t    } catch (Exception var3) {  \\n\\t        throw new BatchConfigurationException(\\"Unable to configure the default job launcher\\", var3);  \\n\\t    }}\\n\\n\\n\\tprotected TaskExecutor getTaskExecutor() { return new SyncTaskExecutor(); }\\n}\\n```\\nSpringBootBatchConfiguration\uac00 \uc0c1\uc18d\ud55c DefaultBatchConfiguration \ub0b4\ubd80\ub97c \ubcf4\uba74 TaskExecutorJobLauncher\ub85c \uad6c\ud604\ub41c JobLauncher\ub97c Bean\uc73c\ub85c \ub4f1\ub85d\ud55c \uac78 \ud655\uc778\ud560 \uc218 \uc788\ub2e4. \\nTaskExecutorJobLauncher\ub97c \uc0dd\uc131\ud558\uae30 \uc704\ud574\uc11c\ub294 JobRepository\uc640 TaskExecutor\uac00 \ud544\uc694\ud55c\ub370 JobRepository\ub294 \ub2e4\uc74c\uc5d0 \ub2e4\ub8f0 \uae30\ud68c\uac00 \uc788\uc744 \uac83 \uac19\uc544 \ub118\uc5b4\uac00\uc790. \\nTaskExecutor\ub85c\ub294 SyncTaskExecutor()\ub97c \uae30\ubcf8\uc801\uc73c\ub85c \uc0ac\uc6a9\ud558\ub294\ub370 \ubcc4\ub3c4\uc758 Thread Pool\uc744 \uc0ac\uc6a9\ud558\ub294 \uac8c \uc544\ub2c8\ub77c execute(Runnable task) \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud55c Thread\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9\ud55c\ub2e4. \uc774\ub984 \uadf8\ub300\ub85c \ub3d9\uae30\uc801\uc73c\ub85c \ub3d9\uc791\ud558\ub294 \uac83\uc774\ub2e4.\\n<br></br>\\n\\n```java\\n@Bean  \\npublic ApplicationRunner runner() {  \\n\\treturn args -> {    \\n\\t\\tTaskExecutor executor = new SyncTaskExecutor();  \\n\\t\\t\\n\\t\\texecutor.execute(() -> {  \\n\\t\\t\\ttry {  \\n\\t\\t\\t\\tThread.sleep(10000);  \\n\\t\\t\\t} catch (InterruptedException e) {  \\n\\t\\t\\t\\tthrow new RuntimeException(e);  \\n\\t\\t\\t}            \\n\\t\\t\\tSystem.out.println(Thread.currentThread());  \\n\\t\\t\\tSystem.out.println(1);  \\n\\t\\t});  \\n\\t\\t\\n\\t\\texecutor.execute(() -> {  \\n\\t\\t\\tSystem.out.println(Thread.currentThread());  \\n\\t\\t});\\n\\t};\\n}\\n\\n// Thread[#1,main,5,main]\\n// 1\\n// Thread[#1,main,5,main]\\n```\\nApplicationRunner\ub97c \ud65c\uc6a9\ud574 \uac04\ub2e8\ud788 SyncTaskExecutor\uc758 \ub3d9\uc791\uc744 \ud655\uc778\ud574\ubd10\ub3c4 2\uac1c\uc758 Runnable\uc774 \ub3d9\uc77c\ud55c Thread(main)\ub85c \ud638\ucd9c\ub41c \uac78 \ud655\uc778\ud560 \uc218 \uc788\uace0 \ubaa8\ub450 2\uac1c\uc758 Task\uac00 \uc21c\uc11c\ub300\ub85c \ub3d9\uc791\ud55c \uac83\uc744 \ubcfc \uc218 \uc788\ub2e4.\\n<br></br>\\n\\n## \uadf8\ub798\uc11c TaskExecutorJobLauncher\ub294 \uc5b4\ub5bb\uac8c \ub3d9\uc791\ud558\ub294\uac00?\\n---\\n```java\\npublic class TaskExecutorJobLauncher extends SimpleJobLauncher {  \\n    public TaskExecutorJobLauncher() {  \\n    }  \\n    public JobExecution run(Job job, JobParameters jobParameters) throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException, JobParametersInvalidException {  \\n        return super.run(job, jobParameters);  \\n    }  \\n    \\n    public void setJobRepository(JobRepository jobRepository) {  \\n        super.setJobRepository(jobRepository);  \\n    } \\n     \\n    public void setTaskExecutor(TaskExecutor taskExecutor) {  \\n        super.setTaskExecutor(taskExecutor);  \\n    }  \\n\\n    public void afterPropertiesSet() throws Exception {  \\n        super.afterPropertiesSet();  \\n    }\\n}\\n```\\n\uad6c\ud604\uccb4\ub97c \ud655\uc778\ud574\ubcf4\ub2c8 SimpleJobLauncher\ub97c \uc0c1\uc18d\ud558\uace0 \uc788\ub2e4...? SimpleJobLauncher\ub294 Deprecated \uc0c1\ud0dc\uc778\ub370.. \uc544\ub9c8\ub3c4 Migration\uc774 \uac00\ub2a5\ud558\ub3c4\ub85d \ud558\uae30 \uc704\ud568\uc774\ub77c \uc0dd\uac01\ud55c\ub2e4. \\nSimpleJobLauncher \uae30\ubc18\uc73c\ub85c JobLauncher\ub97c \uc774\uc6a9\ud558\ub294 \uc0ac\ub78c\ub4e4\ub3c4 \uc9c0\uc6d0\uc744 \ud574\uc57c\ud558\ub2c8...\\n<br></br>\\n\\n## \uacb0\uad6d\uc740 SimpleJobLauncher\\n---\\n```java\\npublic class SimpleJobLauncher implements JobLauncher, InitializingBean {\\n    public JobExecution run(final Job job, final JobParameters jobParameters) throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException, JobParametersInvalidException {\\n        Assert.notNull(job, \\"The Job must not be null.\\");\\n        Assert.notNull(jobParameters, \\"The JobParameters must not be null.\\");\\n        if (this.jobLaunchCount != null) {\\n            this.jobLaunchCount.increment();\\n        }\\n\\n        JobExecution lastExecution = this.jobRepository.getLastJobExecution(job.getName(), jobParameters);\\n        if (lastExecution != null) {\\n            if (!job.isRestartable()) {\\n                throw new JobRestartException(\\"JobInstance already exists and is not restartable\\");\\n            }\\n\\n            Iterator var5 = lastExecution.getStepExecutions().iterator();\\n\\n            while(var5.hasNext()) {\\n                StepExecution execution = (StepExecution)var5.next();\\n                BatchStatus status = execution.getStatus();\\n                if (status.isRunning()) {\\n                    throw new JobExecutionAlreadyRunningException(\\"A job execution for this job is already running: \\" + lastExecution);\\n                }\\n\\n                if (status == BatchStatus.UNKNOWN) {\\n                    throw new JobRestartException(\\"Cannot restart step [\\" + execution.getStepName() + \\"] from UNKNOWN status. The last execution ended with a failure that could not be rolled back, so it may be dangerous to proceed. Manual intervention is probably necessary.\\");\\n                }\\n            }\\n        }\\n\\n        job.getJobParametersValidator().validate(jobParameters);\\n        final JobExecution jobExecution = this.jobRepository.createJobExecution(job.getName(), jobParameters);\\n\\n        try {\\n            this.taskExecutor.execute(new Runnable() {\\n                public void run() {\\n                    try {\\n                        if (SimpleJobLauncher.logger.isInfoEnabled()) {\\n                            SimpleJobLauncher.logger.info(\\"Job: [\\" + job + \\"] launched with the following parameters: [\\" + jobParameters + \\"]\\");\\n                        }\\n\\n                        job.execute(jobExecution);\\n                        if (SimpleJobLauncher.logger.isInfoEnabled()) {\\n                            Duration jobExecutionDuration = BatchMetrics.calculateDuration(jobExecution.getStartTime(), jobExecution.getEndTime());\\n                            Job var10001 = job;\\n                            SimpleJobLauncher.logger.info(\\"Job: [\\" + var10001 + \\"] completed with the following parameters: [\\" + jobParameters + \\"] and the following status: [\\" + jobExecution.getStatus() + \\"]\\" + (jobExecutionDuration == null ? \\"\\" : \\" in \\" + BatchMetrics.formatDuration(jobExecutionDuration)));\\n                        }\\n                    } catch (Throwable var2) {\\n                        if (SimpleJobLauncher.logger.isInfoEnabled()) {\\n                            SimpleJobLauncher.logger.info(\\"Job: [\\" + job + \\"] failed unexpectedly and fatally with the following parameters: [\\" + jobParameters + \\"]\\", var2);\\n                        }\\n\\n                        this.rethrow(var2);\\n                    }\\n\\n                }\\n\\n                private void rethrow(Throwable t) {\\n                    if (t instanceof RuntimeException) {\\n                        throw (RuntimeException)t;\\n                    } else if (t instanceof Error) {\\n                        throw (Error)t;\\n                    } else {\\n                        throw new IllegalStateException(t);\\n                    }\\n                }\\n            });\\n        } catch (TaskRejectedException var8) {\\n            jobExecution.upgradeStatus(BatchStatus.FAILED);\\n            if (jobExecution.getExitStatus().equals(ExitStatus.UNKNOWN)) {\\n                jobExecution.setExitStatus(ExitStatus.FAILED.addExitDescription(var8));\\n            }\\n\\n            this.jobRepository.update(jobExecution);\\n        }\\n\\n        return jobExecution;\\n    }\\n}\\n```\\n\ub85c\uc9c1\uc740 \uadf8\ub9ac \ubcf5\uc7a1\ud558\uc9c0 \uc54a\ub2e4. MetaData Table\uc5d0\uc11c \ucd5c\uadfc JobExecution \ub370\uc774\ud130\ub97c \uac00\uc838\uc640 \ud574\ub2f9 Job\uc774 \uc7ac\uc2dc\uc791 \uac00\ub2a5\ud55c\uc9c0\ub97c \uccb4\ud06c\ud55c\ub2e4. \\n\uc774\ud6c4 JobParameter\ub97c \uac80\uc99d\ud55c \ud6c4 JobExecution\uc744 \uc0c8\ub85c \uc0dd\uc131\ud558\uace0 TaskExecutor\ub85c Job\uc744 \uc2e4\ud589\ud55c\ub2e4.\\n\\n\\n## \uc815\ub9ac\\n---\\nJobLauncher\uc640 \uad6c\ud604\uccb4\uc5d0 \ub300\ud574 \uc54c\uc544\ubd24\ub2e4. Batch\uac00 \uc5b4\ub5bb\uac8c \ub3d9\uc791\ud558\ub294\uc9c0 \uc870\uae08\uc740 \uc774\ud574\uac00 \ub41c\ub2e4. \\n\ub610 MetaData\ub97c \uadc0\ucc2e\uc740 \uc124\uc815 \uc815\ubcf4\ucbe4\uc73c\ub85c \uc608\uce21\ud588\ub294\ub370 MetaData\uc640 JobRepository\ub294 Batch\uc758 \ud575\uc2ec\uc801\uc740 \ubd80\ubd84\uc778 \uac83 \uac19\ub2e4. \\n\ub098\uba38\uc9c0 \uc694\uc18c\ub4e4\ub3c4 \uc5bc\ub978 \uc54c\uc544\ubd10\uc57c\uaca0\ub2e4."},{"id":"/annotation-config-application-context2","metadata":{"permalink":"/annotation-config-application-context2","source":"@site/blog/annotation-config-application-context2.md","title":"Annotation \uae30\ubc18\uc758 ApplicationContext Bean \ub4f1\ub85d \uacfc\uc815 \ud30c\ud5e4\uce58\uae30 (2)","description":"\uc774 \uae00\uc740 Annotation \uae30\ubc18\uc758 ApplicationContext\uc5d0\uc11c @Component\uc640 @Bean \uc560\ub178\ud14c\uc774\uc158\uc744 \ud1b5\ud574 \ud074\ub798\uc2a4\uac00 \uc5b4\ub5bb\uac8c Bean\uc73c\ub85c \ub4f1\ub85d\ub418\ub294\uc9c0 \uc124\uba85\ud569\ub2c8\ub2e4. Spring Boot\uc758 SpringApplication.run() \uba54\uc11c\ub4dc\uc5d0\uc11c \uc2dc\uc791\ud558\uc5ec refreshContext() \uba54\uc11c\ub4dc \ub0b4\ubd80\uc5d0\uc11c Bean \ub4f1\ub85d \uacfc\uc815\uc774 \uc774\ub8e8\uc5b4\uc9d1\ub2c8\ub2e4. Component Scan\uc744 \ud1b5\ud574 BeanDefinition\uc744 \ub4f1\ub85d\ud558\uace0, BeanPostProcessor\ub97c \uc124\uc815\ud55c \ud6c4 Singleton Bean\uc744 \ucd08\uae30\ud654\ud558\ub294 \uacfc\uc815\uc744 \ucf54\ub4dc\uc640 \ud568\uaed8 \uc0c1\uc138\ud788 \ub2e4\ub8f9\ub2c8\ub2e4.","date":"2024-05-21T00:00:00.000Z","tags":[{"label":"spring","permalink":"/tags/spring"}],"readingTime":8.21,"hasTruncateMarker":true,"authors":[{"name":"\uad8c\uc6b0\uc11d","title":"Server Developer","url":"https://github.com/egg528","imageURL":"https://avatars.githubusercontent.com/u/62459196?v=4","key":"woosuk"}],"frontMatter":{"title":"Annotation \uae30\ubc18\uc758 ApplicationContext Bean \ub4f1\ub85d \uacfc\uc815 \ud30c\ud5e4\uce58\uae30 (2)","description":"\uc774 \uae00\uc740 Annotation \uae30\ubc18\uc758 ApplicationContext\uc5d0\uc11c @Component\uc640 @Bean \uc560\ub178\ud14c\uc774\uc158\uc744 \ud1b5\ud574 \ud074\ub798\uc2a4\uac00 \uc5b4\ub5bb\uac8c Bean\uc73c\ub85c \ub4f1\ub85d\ub418\ub294\uc9c0 \uc124\uba85\ud569\ub2c8\ub2e4. Spring Boot\uc758 SpringApplication.run() \uba54\uc11c\ub4dc\uc5d0\uc11c \uc2dc\uc791\ud558\uc5ec refreshContext() \uba54\uc11c\ub4dc \ub0b4\ubd80\uc5d0\uc11c Bean \ub4f1\ub85d \uacfc\uc815\uc774 \uc774\ub8e8\uc5b4\uc9d1\ub2c8\ub2e4. Component Scan\uc744 \ud1b5\ud574 BeanDefinition\uc744 \ub4f1\ub85d\ud558\uace0, BeanPostProcessor\ub97c \uc124\uc815\ud55c \ud6c4 Singleton Bean\uc744 \ucd08\uae30\ud654\ud558\ub294 \uacfc\uc815\uc744 \ucf54\ub4dc\uc640 \ud568\uaed8 \uc0c1\uc138\ud788 \ub2e4\ub8f9\ub2c8\ub2e4.","authors":["woosuk"],"tags":["spring"],"date":"2024-05-21T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Spring Batch \ud30c\ud5e4\uce58\uae30 - JobLauncher","permalink":"/spring-batch-job-launcher"},"nextItem":{"title":"Annotation \uae30\ubc18\uc758 ApplicationContext Bean \ub4f1\ub85d \uacfc\uc815 \ud30c\ud5e4\uce58\uae30 (1)","permalink":"/annotation-config-application-context"}},"content":"**:white_check_mark: ChatGPT \uc694\uc57d**   \\n\uc774 \uae00\uc740 Annotation \uae30\ubc18\uc758 ApplicationContext\uc5d0\uc11c @Component\uc640 @Bean \uc560\ub178\ud14c\uc774\uc158\uc744 \ud1b5\ud574 \ud074\ub798\uc2a4\uac00 \uc5b4\ub5bb\uac8c Bean\uc73c\ub85c \ub4f1\ub85d\ub418\ub294\uc9c0 \uc124\uba85\ud569\ub2c8\ub2e4. Spring Boot\uc758 SpringApplication.run() \uba54\uc11c\ub4dc\uc5d0\uc11c \uc2dc\uc791\ud558\uc5ec refreshContext() \uba54\uc11c\ub4dc \ub0b4\ubd80\uc5d0\uc11c Bean \ub4f1\ub85d \uacfc\uc815\uc774 \uc774\ub8e8\uc5b4\uc9d1\ub2c8\ub2e4. Component Scan\uc744 \ud1b5\ud574 BeanDefinition\uc744 \ub4f1\ub85d\ud558\uace0, BeanPostProcessor\ub97c \uc124\uc815\ud55c \ud6c4 Singleton Bean\uc744 \ucd08\uae30\ud654\ud558\ub294 \uacfc\uc815\uc744 \ucf54\ub4dc\uc640 \ud568\uaed8 \uc0c1\uc138\ud788 \ub2e4\ub8f9\ub2c8\ub2e4.\\n\x3c!-- truncate --\x3e\\n<br></br>\\n\\n## @Component\uac00 \ubd99\uc740 \ud074\ub798\uc2a4\ub294 \uc5b4\ub5bb\uac8c Bean\uc73c\ub85c \ub4f1\ub85d\ub420\uae4c?\\n---\\n\\n[Annotation \uae30\ubc18\uc758 ApplicationContext Bean \ub4f1\ub85d \uacfc\uc815 \ud30c\ud5e4\uce58\uae30 (1)](https://egg528.github.io/annotation-config-application-context) \uae00\uc5d0\uc11c AnnotationConfigApplicationContext.register(...) \uba54\uc11c\ub4dc\uac00 \ub9e4\uac1c\ubcc0\uc218\ub85c \ubc1b\uc740 \ud074\ub798\uc2a4\ub97c \uc5b4\ub5bb\uac8c Bean\uc73c\ub85c Container\uc5d0 \ub4f1\ub85d\ud558\ub294\uc9c0 \uc54c\uc544\ubd24\ub2e4. \\n\ud558\uc9c0\ub9cc \ub300\uac1c \uc791\uc131\ud55c \ud074\ub798\uc2a4\ub97c Bean\uc73c\ub85c \ub4f1\ub85d\ud560 \ub54c\ub294 register(...) \uba54\uc11c\ub4dc\ub97c \uc9c1\uc811 \uc0ac\uc6a9\ud558\uae30\ubcf4\ub2e4\ub294 @Component\ub97c Class\uc5d0 \ubd99\uc774\uac70\ub098 @Configuration \ud074\ub798\uc2a4 \ub0b4 \uba54\uc11c\ub4dc\uc5d0 @Bean\uc744 \ubd99\uc5ec\uc11c \uc0ac\uc6a9\ud55c\ub2e4. \uc774 \uacbd\uc6b0\uc5d0 ApplicationContext(IoC Container)\uc5d0 Bean\uc73c\ub85c \ub4f1\ub85d\ub418\ub294 \uacfc\uc815\uc744 \uc54c\uc544\ubcf4\ub824 \ud55c\ub2e4.\\n<br></br>\\n\\n\\n```java\\n// SpringCoreApplication \ud30c\uc77c\\npublic static void main(String[] args) {\\n        SpringApplication.run(SpringCoreApplication.class, args);\\n}\\n\\n// SpringApplication.run(..)\uc744 \ud0c0\uace0 \ub4e4\uc5b4\uac00\ub2e4 \ubcf4\uba74\\npublic ConfigurableApplicationContext run(String... args) {\\n    try {\\n        ...\\n        \\n        this.refreshContext(context);\\n        \\n        \\n    }\\n    ...\\n}\\n```\\n<br></br>\\n![before-refresh.jpg](img/before-refresh.jpg)\\n*refreshContext(...) \uc774\uc804*\\n<br></br>\\n![after-refresh.jpg](img/after-refresh.jpg)\\n*refreshContext(...) \uc774\ud6c4*\\n\\nSpring Boot\uc758 \uc2dc\uc791\uacfc \ub05d. SpringApplication.run()\uc744 \ud0c0\uace0 \ub4e4\uc5b4\uac00\ub2e4\ubcf4\uba74 `run(String... args)` \uba54\uc11c\ub4dc\ub97c \ub9cc\ub0a0 \uc218 \uc788\ub2e4. \\n\uc774 \uba54\uc11c\ub4dc\ub294 \uc9e7\uc9c0 \uc54a\uc740\ub370 \ub514\ubc84\uae45\uc744 \ud574\ubcf4\uba74 refreshContext(...) \uba54\uc11c\ub4dc \ub3d9\uc791 \uc804\ud6c4\ub85c beanFactory \ud544\ub4dc \ub0b4 beanDefinitionMap\uc758 \ub370\uc774\ud130 \uc218\uac00 \ub2ec\ub77c\uc9c0\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\ub2e4. \\n\uc989, refreshContext(...)\uc5d0\uc11c Bean \ub4f1\ub85d\uc774 \uc774\ub8e8\uc5b4 \uc774\ub8e8\uc5b4\uc9c4\ub2e4\uace0 \ubcfc \uc218 \uc788\uc73c\ub2c8 refreshContext(...)\ub97c \uc0b4\ud3b4\ubcf4\uc790.\\n(Singleton \uac1d\uccb4\ub4e4\uc758 \ucd08\uae30\ud654\uac00 \uc774\ub8e8\uc5b4\uc9c0\ub294 \uac83\uc740 \uc544\ub2c8\ub2e4.)    \\n\\n\\n## refreshContext(...) \uc18d\uc73c\ub85c \\n---\\n```java\\npublic abstract class AbstractApplicationContext extends DefaultResourceLoader implements ConfigurableApplicationContext {\\n\\n    public void refresh() throws BeansException, IllegalStateException {  \\n        ...\\n        \\n        // (1) ComponentScan + BeanDefinition \ub4f1\ub85d \\n        this.invokeBeanFactoryPostProcessors(beanFactory);\\n        \\n        // (2) \uc0ac\uc6a9\uc790 \uc815\uc758 + Default BeanPostProcessor\ub97c AbstractBeanFactory - beanPostProcessors \ud544\ub4dc\uc5d0 \ucd94\uac00\\n        this.registerBeanPostProcessors(beanFactory); \\n        \\n        ...\\n        \\n        // (3) BeanPostProcessor \ub3d9\uc791 \ubc0f Bean \ucd08\uae30\ud654\\n        this.finishBeanFactoryInitialization(beanFactory);\\n        \\n        ...\\n    }\\n}\\n```\\nrefresh(...) \uba54\uc11c\ub4dc \ub0b4\ubd80\uc5d0\uc11c\ub294 \uc815\ub9d0 \ub9ce\uc740 \uc77c\uc774 \uc77c\uc5b4\ub09c\ub2e4. \ud558\uc9c0\ub9cc \uc774 \uae00\uc758 \ubaa9\uc801\uc778 Bean \ub4f1\ub85d \uacfc\uc815\uc5d0 \ucd08\uc810\uc744 \ub9de\ucdb0 \uc0b4\ud3b4\ubcf4\uc790. \\n(1) \uba54\uc11c\ub4dc\uc5d0\uc11c\ub294 ComponentScan\uacfc \ud568\uaed8 BeanDefinition \ub4f1\ub85d\uc774 \uc77c\uc5b4\ub09c\ub2e4. \uc774\ud6c4 (2) \uba54\uc11c\ub4dc\uc5d0\uc11c\ub294 \ub4f1\ub85d\ub41c BeanDefinition\ub4e4 \uc911 BeanPostProcessor\ub97c \ucd94\ub824\ub0b4 \ub530\ub85c \ubcf4\uad00\ud55c\ub2e4. \ub9c8\uc9c0\ub9c9\uc73c\ub85c \uc54c\uc544\ubcfc \\n(3) \uba54\uc11c\ub4dc\uc5d0\uc11c\ub294 BeanProcessor\ub97c \ud65c\uc6a9\ud574 SingletonBean\ub4e4\uc744 \ucd08\uae30\ud654\ud558\ub294 \uc791\uc5c5\uc774 \uc77c\uc5b4\ub09c\ub2e4. \uac01 \uba54\uc11c\ub4dc\ub97c \uc870\uae08 \ub354 \uc790\uc138\ud788 \uc0b4\ud3b4\ubcf4\uc790.\\n<br></br>\\n\\n\\n### Component Scan\uacfc BeanDefinition \ub4f1\ub85d\\n```java\\npublic class ConfigurationClassPostProcessor implements BeanDefinitionRegistryPostProcessor, BeanRegistrationAotProcessor, BeanFactoryInitializationAotProcessor, PriorityOrdered, ResourceLoaderAware, ApplicationStartupAware, BeanClassLoaderAware, EnvironmentAware {\\n\\n    public void processConfigBeanDefinitions(BeanDefinitionRegistry registry) {  \\n        ...   \\n        \\n        parser.parse(candidates);  // (1)\\n        \\n        ...\\n        \\n        this.reader.loadBeanDefinitions(configClasses);  // (2) \\n        \\n        ...\\n    }\\n}\\n```\\nprocessConfigBeanDefinitions(...) \uba54\uc11c\ub4dc\uc5d0\uc11c \uc815\ub9d0 \ub9ce\uc740 \ub3d9\uc791\uc774 \uc77c\uc5b4\ub098\uc9c0\ub9cc \ub450 \uba54\uc11c\ub4dc\uac00 \ud575\uc2ec\uc774\ub2e4. (1) base package \ud558\uc704\uc758 \ubaa8\ub4e0 \ud30c\uc77c\uc744 \uac00\uc838\uc628 \ud6c4 Filtering\uc744 \uc2dc\uc791\ud558\ub294\ub370 \uc774 \uacfc\uc815\uc5d0\uc11c @Component\ub098 @ManagedBean\uc774 \ubd99\uc740 \ud074\ub798\uc2a4\ub97c \ucd94\ub824\ub0b8\ub2e4. \\n\uc774\ud6c4 (2) \ucd94\ub824\ub0b8 class\ub4e4(configClasses)\uc744 \uae30\ubc18\uc73c\ub85c Bean\ub4e4\uc744 \uc0dd\uc131\ud55c\ub2e4. \uc774\ub54c @Bean\uc774 \ubd99\uc740 \uba54\uc11c\ub4dc\ub3c4 \uc2dd\ubcc4\uc744 \ud55c\ub2e4. \uc774\ud6c4 DefaultListableBeanFactory\uc758 beanDefinitionMap\uc5d0 Bean\uc744 \ub4f1\ub85d\ud55c\ub2e4. \ub2e8, \uc544\uc9c1 Singleton Bean\uc744 \ucd08\uae30\ud654\ud558\ub294 \uac74 \uc544\ub2c8\ub2e4.    \\n<br></br>\\n\\n\\n\\n### BeanPostProcessor \ub4f1\ub85d\\n```java\\nfinal class PostProcessorRegistrationDelegate {\\n    ...\\n    \\n    public static void registerBeanPostProcessors(ConfigurableListableBeanFactory beanFactory, AbstractApplicationContext applicationContext) {  \\n        String[] postProcessorNames = beanFactory.getBeanNamesForType(BeanPostProcessor.class, true, false);  // (1)\\n        \\n        ...\\n        registerBeanPostProcessors(beanFactory, (List)priorityOrderedPostProcessors);  // (2)\\n        \\n        ...\\n        registerBeanPostProcessors(beanFactory, (List)orderedPostProcessors);  // (2)\\n        \\n        ...\\n        registerBeanPostProcessors(beanFactory, (List)nonOrderedPostProcessors);  // (2)\\n        \\n        ...\\n        registerBeanPostProcessors(beanFactory, (List)internalPostProcessors);  // (2)\\n        \\n        ... \\n    }\\n    ...\\n}\\n```\\nBeanPostProcessor\ub97c \ub4f1\ub85d\ud558\ub294 \ub85c\uc9c1\uc740 \uac04\ub2e8\ud558\ub2e4. (1)\uc5d0\uc11c BeanPostProcessor class \ud0c0\uc785\uc758 beanName\ub4e4\uc744 beanFactory\uc5d0\uc11c \uc870\ud68c\ud55c\ub2e4.\\n\uc774\ud6c4 BeanPostProcessor\ub4e4\uc744 \ubd84\ub958\ud558\uc5ec (2) \uba54\uc11c\ub4dc\ub4e4\uc5d0\uc11c AbstractBeanFactory - beanPostProcessors \ud544\ub4dc\uc5d0 \ucd94\uac00\ud558\uc5ec \ubcf4\uad00\ud55c\ub2e4.\\n<br></br>\\n\\n### BeanPostProcessor \ub3d9\uc791 \ubc0f Bean \ucd08\uae30\ud654\\n```java\\npublic class DefaultListableBeanFactory extends AbstractAutowireCapableBeanFactory implements ConfigurableListableBeanFactory, BeanDefinitionRegistry, Serializable {\\n    ...\\n\\n    public void preInstantiateSingletons() throws BeansException {\\n\\t\\t...\\n\\n        List<String> beanNames = new ArrayList(this.beanDefinitionNames);  // (1)\\n        Iterator var2 = beanNames.iterator();\\n\\n        String beanName;\\n        while (var2.hasNext()) {\\n            beanName = (String) var2.next();\\n            RootBeanDefinition bd = this.getMergedLocalBeanDefinition(beanName); // (2)\\n            if (!bd.isAbstract() && bd.isSingleton() && !bd.isLazyInit()) {  // (3)\\n                if (this.isFactoryBean(beanName)) {\\n                    Object bean = this.getBean(\\"&\\" + beanName);\\n                    if (bean instanceof SmartFactoryBean) {\\n                        SmartFactoryBean<?> smartFactoryBean = (SmartFactoryBean) bean;\\n                        if (smartFactoryBean.isEagerInit()) {\\n                            this.getBean(beanName);  // (4)\\n                        }\\n                    }\\n                } else {\\n                    this.getBean(beanName);  // (4)\\n                }\\n            }\\n        }\\n    }\\n}\\n```\\n\ub9c8\uc9c0\ub9c9\uc73c\ub85c BeanPostProcessor\ub97c \ud65c\uc6a9\ud574 Singleton Bean\uc744 \ucd08\uae30\ud654\ud558\ub294 \ub85c\uc9c1\uc744 \uc0b4\ud3b4\ubcf4\uc790.\uc6b0\uc120 (1) \uba54\uc11c\ub4dc\uc5d0\uc11c \ub4f1\ub85d\ub41c beanName\ub4e4\ub85c List\ub97c \ub9cc\ub4e4\uace0 \uc774\ub97c \uc21c\ud68c\ud55c\ub2e4.\\n(2) beanName\uc73c\ub85c AbstractBeanFactory\uc758 mergedBeanDefinitions\uc5d0\uc11c RootBeanDefinition\uc744 \uc870\ud68c\ud558\uace0 (3) \ud574\ub2f9 bean\uc758 \ucd94\uc0c1 \uc5ec\ubd80, \uc2f1\uae00\ud1a4 \uc2a4\ucf54\ud504 \uc5ec\ubd80, \uc9c0\uc5f0 \ucd08\uae30\ud654 \uc5ec\ubd80\ub97c \ud655\uc778\ud55c\ub2e4.\\n\ub9c8\uc9c0\ub9c9\uc73c\ub85c (4)\uc5d0\uc11c Bean\uc744 \ucd08\uae30\ud654\ud558\uc5ec Map\uc5d0 \ubcf4\uad00\ud558\uace0 \ucd08\uae30\ud654 \uc774\uc804 \uc774\ud6c4\ub85c \uc801\uc6a9\ub418\uc5b4\uc57c \ud560 BeanPostProcessor\uac00 \ub3d9\uc791\ud55c\ub2e4.   \\n<br></br>\\n\\n```java\\npublic abstract class AbstractAutowireCapableBeanFactory extends AbstractBeanFactory implements AutowireCapableBeanFactory {\\n    ...\\n    protected Object initializeBean(String beanName, Object bean, @Nullable RootBeanDefinition mbd) {  \\n        this.invokeAwareMethods(beanName, bean);  \\n        Object wrappedBean = bean;  \\n        \\n        if (mbd == null || !mbd.isSynthetic()) {  \\n            wrappedBean = this.applyBeanPostProcessorsBeforeInitialization(bean, beanName);  // (1)\\n        }  \\n        \\n        try {  \\n            this.invokeInitMethods(beanName, wrappedBean, mbd);  // (2)\\n        } catch (Throwable var6) {  \\n            throw new BeanCreationException(mbd != null ? mbd.getResourceDescription() : null, beanName, var6.getMessage(), var6);  \\n        }\\n          \\n        if (mbd == null || !mbd.isSynthetic()) {  \\n            wrappedBean = this.applyBeanPostProcessorsAfterInitialization(wrappedBean, beanName); // (3)  \\n        }\\n          \\n        return wrappedBean;  \\n    }\\n    ...\\n}\\n```\\ngetBean(...) \uba54\uc11c\ub4dc\ub97c \uc870\uae08 \ub354 \ud30c\uace0 \ub4e4\uc5b4\uac00\ubcf4\uba74 initializeBean(...) \uba54\uc11c\ub4dc\ub97c \ub9cc\ub0a0 \uc218 \uc788\ub2e4. \uba54\uc11c\ub4dc\uba85\ub9cc \ubd10\ub3c4 \ub3d9\uc791\uc744 \uc27d\uac8c \uc720\ucd94\ud560 \uc218 \uc788\ub2e4.   \\n(1) BeanPostProcessor\uc758 postProcessBeforeInitialization(...) \ub3d9\uc791  \\n(2) Bean\uc758 InitMethod \ub3d9\uc791  \\n(3) BeanPostProcessor\uc758 postProcessAfterInitialization(...) \ub3d9\uc791  \\n<br></br>   \\n\\n\\n## \uc815\ub9ac\\n---\\nAnnotationConfigApplicationContext\ub97c \uc0ac\uc6a9\ud574 SpringApplication.run(...)\uc744 \uc2e4\ud589\ud588\uc744 \ub54c Annotation \uc815\ubcf4\ub4e4\uc744 \uae30\ubc18\uc73c\ub85c \uc5b4\ub5bb\uac8c Java\uac1d\uccb4\uac00 ApplicationContext(IoC Container)\uc5d0 \ub4f1\ub85d\ub418\ub294\uc9c0 \uc54c\uc544\ubcf4\uc558\ub2e4.\\n\uae30\uc874\uc5d0\ub3c4 \ub3d9\uc77c\ud55c \ubc29\uc2dd\uc73c\ub85c Spring Application\uc744 \uac1c\ubc1c\ud558\uace0 \uc788\uc5c8\uc73c\ub2c8 \ucf54\ub4dc\ub97c \ud30c\uace0 \ub4e4\uc5b4\uac00\ubcf4\uae30 \uc804\uc5d0\ub3c4 \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \ub3d9\uc791\ud55c\ub2e4\ub294 \uc54c\uace0 \uc788\uc5c8\uace0 \uc0c8\ub85c\uc6b4 \ub0b4\uc6a9\ub4e4\uc740 \uc544\ub2c8\uc5c8\ub2e4. \ud558\uc9c0\ub9cc \ucf54\ub4dc\ub97c \ud30c\uc545\ud558\uba70 \ub3d9\uc791 \ubc29\uc2dd\uc744 \ud30c\uc545\ud558\ub294 \uac74 \uc0dd\uac01\ucc98\ub7fc \uc26c\uc6b4 \uc77c\uc740 \uc544\ub2c8\uc5c8\ub2e4.\\n\ud2b9\ud788 IntelliJ\uac00 .class \ud30c\uc77c\uc744 decompile\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \ubcc0\uc218\uba85\ub4e4\uc774 varxx \ud615\uc2dd\uc73c\ub85c \ubcc0\ud658\ub418\uac70\ub098 \uc6d0\ub798 \uad6c\ubb38\uacfc \ub3d9\uc791\ub9cc \ub3d9\uc77c\ud55c \ubc29\uc2dd\uc73c\ub85c \ucf54\ub4dc\uac00 \ubcf4\uc5ec\uc838 \uc77d\uae30 \uc27d\uc9c0 \uc54a\uc558\ub2e4. (github\uc5d0\uc11c spring repo\ub97c \ub2e4\uc6b4\ubc1b\uc544\uc11c \ubd10\uc57c\uaca0\ub2e4...)\\n\uc18c\uc2a4 \ucf54\ub4dc\ub97c \ub530\ub77c \ub3d9\uc791 \ubc29\uc2dd\uc744 \ub208\uc73c\ub85c \ud655\uc778\ud558\uace0 \ub098\ub2c8 \uc7ac\ubbf8\ub3c4 \uc788\uc5c8\uace0 SpringApplication\uc774 \ub730 \ub54c\uae4c\uc9c0 \ub9c8\ub0e5 \uae30\ub2e4\ub9bc\uc758 \uc2dc\uac04\uc774\uc5c8\ub294\ub370, \uc9c0\uae08 \ubb58 \ud558\uace0 \uc788\uaca0\uad6c\ub098 \ud558\ub294 \uc0dd\uac01\uc774 \ub4e4\uae30\ub3c4 \ud55c\ub2e4. \\n\ud558\uc9c0\ub9cc \uc7ac\ubbf8\ub3c4 \uc7ac\ubbf8\uc9c0\ub9cc \ud55c\ud3b8\uc73c\ub85c \uc774 \ud559\uc2b5\uc758 \uacb0\uacfc\uac00 \uc5b4\ub518\uac00\uc5d0\uc11c \ud6a8\uacfc\ub97c \ubc1c\ud718\ud560 \uc218 \uc788\uc5c8\uc73c\uba74 \uc88b\uaca0\ub2e4\ub294 \uc0dd\uac01\ub3c4 \ub0a8\ub294\ub2e4."},{"id":"/annotation-config-application-context","metadata":{"permalink":"/annotation-config-application-context","source":"@site/blog/annotation-config-application-context.md","title":"Annotation \uae30\ubc18\uc758 ApplicationContext Bean \ub4f1\ub85d \uacfc\uc815 \ud30c\ud5e4\uce58\uae30 (1)","description":"\uc774 \uae00\uc740 Spring IoC, DI, IoC Container, \uadf8\ub9ac\uace0 ApplicationContext\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. Spring IoC\ub294 Inversion of Control\uc758 \uc57d\uc5b4\ub85c, \uac1d\uccb4\uc758 \uc81c\uc5b4\uad8c\uc744 \uc678\ubd80\ub85c \ub118\uae30\ub294 \uac1c\ub150\uc785\ub2c8\ub2e4. DI\ub294 \uc758\uc874\uc131 \uc8fc\uc785\uc744 \uc758\ubbf8\ud558\uba70, IoC\ub97c \uad6c\ud604\ud558\ub294 \uad6c\uccb4\uc801\uc778 \ubc29\ubc95\uc785\ub2c8\ub2e4. IoC Container\ub294 ApplicationContext\ub85c, Bean\uc744 \ucd08\uae30\ud654, \uc870\ub9bd, \uad6c\uc131\ud558\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4. \ud2b9\ud788 Annotation \uae30\ubc18\uc758 ApplicationContext\ub97c \uc911\uc2ec\uc73c\ub85c, Spring Boot \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c Bean\uc774 \uc5b4\ub5bb\uac8c \ub4f1\ub85d\ub418\uace0 \ucd08\uae30\ud654\ub418\ub294\uc9c0 \uacfc\uc815\uc744 \ucf54\ub4dc\uc640 \ud568\uaed8 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4.","date":"2024-05-18T00:00:00.000Z","tags":[{"label":"spring","permalink":"/tags/spring"}],"readingTime":8.88,"hasTruncateMarker":true,"authors":[{"name":"\uad8c\uc6b0\uc11d","title":"Server Developer","url":"https://github.com/egg528","imageURL":"https://avatars.githubusercontent.com/u/62459196?v=4","key":"woosuk"}],"frontMatter":{"title":"Annotation \uae30\ubc18\uc758 ApplicationContext Bean \ub4f1\ub85d \uacfc\uc815 \ud30c\ud5e4\uce58\uae30 (1)","description":"\uc774 \uae00\uc740 Spring IoC, DI, IoC Container, \uadf8\ub9ac\uace0 ApplicationContext\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. Spring IoC\ub294 Inversion of Control\uc758 \uc57d\uc5b4\ub85c, \uac1d\uccb4\uc758 \uc81c\uc5b4\uad8c\uc744 \uc678\ubd80\ub85c \ub118\uae30\ub294 \uac1c\ub150\uc785\ub2c8\ub2e4. DI\ub294 \uc758\uc874\uc131 \uc8fc\uc785\uc744 \uc758\ubbf8\ud558\uba70, IoC\ub97c \uad6c\ud604\ud558\ub294 \uad6c\uccb4\uc801\uc778 \ubc29\ubc95\uc785\ub2c8\ub2e4. IoC Container\ub294 ApplicationContext\ub85c, Bean\uc744 \ucd08\uae30\ud654, \uc870\ub9bd, \uad6c\uc131\ud558\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4. \ud2b9\ud788 Annotation \uae30\ubc18\uc758 ApplicationContext\ub97c \uc911\uc2ec\uc73c\ub85c, Spring Boot \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c Bean\uc774 \uc5b4\ub5bb\uac8c \ub4f1\ub85d\ub418\uace0 \ucd08\uae30\ud654\ub418\ub294\uc9c0 \uacfc\uc815\uc744 \ucf54\ub4dc\uc640 \ud568\uaed8 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4.","authors":["woosuk"],"tags":["spring"],"date":"2024-05-18T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Annotation \uae30\ubc18\uc758 ApplicationContext Bean \ub4f1\ub85d \uacfc\uc815 \ud30c\ud5e4\uce58\uae30 (2)","permalink":"/annotation-config-application-context2"},"nextItem":{"title":"JDBC, DataSource \uadf8\ub9ac\uace0 HikariCP","permalink":"/jdbc-datasource-hikaricp"}},"content":"**:white_check_mark: ChatGPT \uc694\uc57d**   \\n\uc774 \uae00\uc740 Spring IoC, DI, IoC Container, \uadf8\ub9ac\uace0 ApplicationContext\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. Spring IoC\ub294 Inversion of Control\uc758 \uc57d\uc5b4\ub85c, \uac1d\uccb4\uc758 \uc81c\uc5b4\uad8c\uc744 \uc678\ubd80\ub85c \ub118\uae30\ub294 \uac1c\ub150\uc785\ub2c8\ub2e4. DI\ub294 \uc758\uc874\uc131 \uc8fc\uc785\uc744 \uc758\ubbf8\ud558\uba70, IoC\ub97c \uad6c\ud604\ud558\ub294 \uad6c\uccb4\uc801\uc778 \ubc29\ubc95\uc785\ub2c8\ub2e4. IoC Container\ub294 ApplicationContext\ub85c, Bean\uc744 \ucd08\uae30\ud654, \uc870\ub9bd, \uad6c\uc131\ud558\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4. \ud2b9\ud788 Annotation \uae30\ubc18\uc758 ApplicationContext\ub97c \uc911\uc2ec\uc73c\ub85c, Spring Boot \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c Bean\uc774 \uc5b4\ub5bb\uac8c \ub4f1\ub85d\ub418\uace0 \ucd08\uae30\ud654\ub418\ub294\uc9c0 \uacfc\uc815\uc744 \ucf54\ub4dc\uc640 \ud568\uaed8 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4.\\n\x3c!-- truncate --\x3e\\n<br></br>\\n\\n\\n## Spring IoC, DI, IoC Container \uadf8\ub9ac\uace0 ApplicationContext\\n---\\nSpring IoC\ub294 \uc2a4\ud504\ub9c1 \ud504\ub808\uc784\uc6cc\ud06c\uc758 \ud575\uc2ec\uc774\ub2e4. IoC\ub780 Inversion of Control\uc758 \uc57d\uc5b4\ub85c \uba54\uc11c\ub4dc\ub098 \uac1d\uccb4\uc5d0 \ub300\ud55c \uc81c\uc5b4\uad8c\uc744 \uc678\ubd80\ub85c \ub118\uae30\ub294 \uac83\uc774\ub2e4.\\n\uc774\uc640 \uad00\ub828\ub41c \uc6a9\uc5b4\ub85c DI\ub294 \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ub73b\ud558\uba70 Spring\uc5d0\uc11c\ub294 DI\ub97c \ud1b5\ud574 IoC\ub97c \ub2ec\uc131\ud558\uba70 IoC\uc758 \uad6c\uccb4\ud654\ub41c \ud615\ud0dc\uac00 DI\uc774\ub2e4.   \\n<br></br>\\n\\n![applicationContext.jpg](img/applicationContext.jpg)\\n\uc81c\uc5b4\uad8c\uc744 \ub118\uaca8 \ubc1b\ub294 \uc8fc\uccb4\uac00 \ub204\uad6c\uc778\uc9c0 \ub610\ud55c \uc911\uc694\ud55c\ub370 \uc774 \uc8fc\uccb4\uac00 IoC Container\uc774\ub2e4. \uacf5\uc2dd \ubb38\uc11c\uc5d0\uc11c\ub294 ApplicationContext\ub97c IoC Container\ub77c \ubd80\ub978\ub2e4.\\n\uc704 \ub2e4\uc774\uc5b4\uadf8\ub7a8\uc740 ApplicationContext\uc758 \uc758\uc874 \uad00\uacc4\ub97c \ubcf4\uc5ec\uc8fc\ub294\ub370 \ub2e4\uc591\ud55c interface\ub97c \uc0c1\uc18d\ud558\uae30 \ub54c\ubb38\uc5d0 \ub2e4\uc591\ud55c \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4\uace0 \uc774\ud574\ud560 \uc218 \uc788\ub2e4. \\nApplicationContext \uc989, IoC Container\uac00 \uc218\ud589\ud558\ub294 \uc911\uc694\ud55c \uc791\uc5c5 \uc911 \ud558\ub098\ub294 Spring Bean\ub4e4\uc744 \ucd08\uae30\ud654/\uc870\ub9bd/\uad6c\uc131\ud558\ub294 \uc5ed\ud560\uc774\ub2e4. \\nBean\ub4e4\uc744 \ucd08\uae30\ud654\ud558\uae30 \uc704\ud574\uc11c\ub294 \uac1c\ubc1c\uc790\uac00\uac00 \uc791\uc131\ud55c \uac1d\uccb4\ub4e4\uacfc Configuration Metadata\uac00 \ud544\uc694\ud55c\ub370 Configuration Metadata\ub97c \uc791\uc131\ud558\ub294 \ubc29\uc2dd\uc5d0 \ub530\ub77c ApplicationContext\uc758 \uad6c\ud604\uccb4\uac00 \ub2ec\ub77c\uc9c4\ub2e4. (Configuration Metadata \uad6c\uc131 \ubc29\uc2dd\ub9cc\uc774 ApplicationContext\uc758 \uad6c\ud604 \uc885\ub958\ub97c \uacb0\uc815\ud558\ub294 \uac74 \uc544\ub2c8\ub2e4.)  \\n<br></br>\\n\\n## Annotation \uae30\ubc18\uc758 ApplicationContext\\n---\\n``` java\\n@SpringBootApplication\\npublic class SpringCoreApplication {\\n    public static void main(String[] args) {\\n        SpringApplication.run(SpringCoreApplication.class, args);\\n    }\\n\\n    @Bean\\n    public ApplicationRunner runner(ApplicationContext applicationContext) {\\n        return (args) -> {\\n            System.out.println(applicationContext.getClass());\\n        };\\n    }\\n}\\n\\n// class org.springframework.context.annotation.AnnotationConfigApplicationContext\\n// spring-boot-starter-web \uc758\uc874\uc131 \ucd94\uac00 \ud6c4 -> class org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext\\n```\\n\uadf8 \uc911\uc5d0\uc11c \uac00\uc7a5 \ub9ce\uc774 \uc0ac\uc6a9\ub418\ub294 \uad6c\ud604\uccb4\ub294 Annotation \uae30\ubc18\uc758 ApplicationContext\uc774\ub2e4.\\nspring boot\ub97c \ud65c\uc6a9\ud574 application\uc744 \uc2e4\ud589\ud558\uba74 default\ub85c \uc801\uc6a9\ub418\ub294 ApplicationContext\uc774 `AnnotationConfigApplicationContext`\uc774\ub2e4. \\n\ub610\ud55c spring-boot-starter-web \uc758\uc874\uc131\uc744 \ucd94\uac00\ud558\uace0 application\uc744 \uc2e4\ud589\ud558\uba74 default\ub85c `AnnotationConfigServletWebServerApplicationContext`\uc774 \uc801\uc6a9\ub41c\ub2e4.\\n\uc774 \ub458\uc758 \uacf5\ud1b5\uc810\uc740 Annotation\uc744 \uae30\ubc18\uc73c\ub85c Configuration Metadata\ub97c \uc2dd\ubcc4\ud558\uc5ec ApplicationContext\uac00 \ub3d9\uc791\ud55c\ub2e4\ub294 \uc810\uc774\ub2e4.\\n<br></br>\\n\\n### (1) register(...): Bean \ub4f1\ub85d \uba54\uc11c\ub4dc\\n``` java\\npublic interface AnnotationConfigRegistry {\\n    void register(Class<?>... componentClasses);\\n\\n    void scan(String... basePackages);\\n}\\n```\\nAnnotation \uae30\ubc18\uc758 ApplicationContext\ub4e4\uc740 \uc704 interface\ub97c \uad6c\ud604\ud558\uace0 \uc788\ub2e4. \uc704 \uba54\uc11c\ub4dc \uc911 `void register(...)`\ub294 Bean\uc744 \ub4f1\ub85d\ud560 \ub54c \uc0ac\uc6a9\ub418\ub294 \uba54\uc11c\ub4dc\uc774\ub2e4.\\nSpring Boot \uae30\ubc18\uc73c\ub85c Application\uc744 \ub9cc\ub4e4 \ub54c \ub300\uac1c @Component\ub098 @Bean \uc5b4\ub178\ud14c\uc774\uc158\uc744 \uae30\ubc18\uc73c\ub85c Bean\uc744 \ub4f1\ub85d\ud55c\ub2e4. \ud558\uc9c0\ub9cc @Component\ub098 @Bean \uae30\ubc18\uc73c\ub85c Bean\uc744 \ub4f1\ub85d\ud560 \ub54c \uc774 \uba54\uc11c\ub4dc\uac00 \uc0ac\uc6a9\ub418\uc9c0\ub294 \uc54a\ub294\ub2e4.\\n\ub2e4\ub9cc Annotation\uae30\ubc18\uc758 Metadata\ub97c \ud65c\uc6a9\ud574 Bean\uc744 \ub4f1\ub85d\ud558\ub294 \uacfc\uc815\uc744 \uc0b4\ud3b4\ubcfc \uc218 \uc788\ub2e4. \uad6c\ud604\uccb4\ub4e4 \uc911 AnnotationConfigApplicationContext\ub97c \uae30\ubc18\uc73c\ub85c `void register(...)`\uad6c\ud604\uc744 \uc0b4\ud3b4\ubcf4\uc790.   \\n<br></br>\\n\\n```java\\n@SpringBootApplication\\npublic class SpringCoreApplication {\\n\\n    public static void main(String[] args) {\\n        SpringApplication.run(SpringCoreApplication.class, args);\\n    }\\n\\n    @Bean\\n    public ApplicationRunner runner(AnnotationConfigApplicationContext applicationContext ) {\\n        return (args) -> {\\n            applicationContext.register(TestService.class);\\n        };\\n    }\\n}\\n```\\n\uc704 \ucf54\ub4dc\uc758 `applicationContext.register(TestService.class)`\ucf54\ub4dc\ub97c \ub514\ubc84\uae45\ud574\ubcf4\uba74 \uacb0\uad6d AnnotatedBeanDefinitionReader \ud074\ub798\uc2a4\uc758 doRegisterBean(...) \uba54\uc11c\ub4dc\ub97c \ub9cc\ub098\uac8c \ub41c\ub2e4.\\n<br></br>\\n\\n```java\\npublic class AnnotatedBeanDefinitionReader {\\n    private final BeanDefinitionRegistry registry;\\n    private BeanNameGenerator beanNameGenerator;\\n    private ScopeMetadataResolver scopeMetadataResolver;\\n    private ConditionEvaluator conditionEvaluator;\\n    \\n    ... \uc0dd\ub7b5\\n\\n    private <T> void doRegisterBean(Class<T> beanClass, @Nullable String name, @Nullable Class<? extends Annotation>[] qualifiers, @Nullable Supplier<T> supplier, @Nullable BeanDefinitionCustomizer[] customizers) {\\n        AnnotatedGenericBeanDefinition abd = new AnnotatedGenericBeanDefinition(beanClass);\\n        if (!this.conditionEvaluator.shouldSkip(abd.getMetadata())) {\\n            ... \uc0dd\ub7b5\\n        \\n        \\n            // Class\uc758 Annotation\uc744 \uae30\ubc18\uc73c\ub85c BeanDefinition\uc744 Update\ud55c\ub2e4.\\n            AnnotationConfigUtils.processCommonDefinitionAnnotations(abd);\\n            \\n            ... \uc0dd\ub7b5\\n\\n            BeanDefinitionHolder definitionHolder = new BeanDefinitionHolder(abd, beanName);\\n            definitionHolder = AnnotationConfigUtils.applyScopedProxyMode(scopeMetadata, definitionHolder, this.registry);\\n            BeanDefinitionReaderUtils.registerBeanDefinition(definitionHolder, this.registry);\\n        }\\n    }\\n}\\n```\\n`doRegisterBean(...)`\uc758 \ub85c\uc9c1\uc744 \uac04\ub7b5\ud558\uac8c \uc124\uba85\ud558\uba74 Bean\uc73c\ub85c \ub4f1\ub85d\ud560 Class\uc758 Annotation \uc815\ubcf4\ub4e4\uc744 \uae30\ubc18\uc73c\ub85c BeanDefinition\uc744 \uc124\uc815\ud55c \ud6c4 beanName\uacfc alias \uc815\ubcf4\ub4e4\uc744 \ud568\uaed8 \uac00\uc9c0\ub294 BeanDefinitionHolder\ub85c \ubcc0\ud658\ud558\uc5ec \ub4f1\ub85d\ud55c\ub2e4. \\n\uc774\ub54c Class\uc758 Annotation\uc744 \uae30\ubc18\uc73c\ub85c BeanDefinition\uc744 Update\ud558\ub294 \ub85c\uc9c1\uc744 \ud0c0\uace0 \ub4e4\uc5b4\uac00\uba74 \uc544\ub798 \uba54\uc11c\ub4dc\ub97c \ub9cc\ub0a0 \uc218 \uc788\ub2e4.   \\n<br></br>\\n\\n```java\\npublic abstract class AnnotationConfigUtils {\\n    ... \uc0dd\ub7b5\\n\\n    static void processCommonDefinitionAnnotations(AnnotatedBeanDefinition abd, AnnotatedTypeMetadata metadata) {\\n        AnnotationAttributes lazy = attributesFor(metadata, Lazy.class);\\n        if (lazy != null) {\\n            abd.setLazyInit(lazy.getBoolean(\\"value\\"));\\n        } else if (abd.getMetadata() != metadata) {\\n            lazy = attributesFor(abd.getMetadata(), (Class)Lazy.class);\\n            if (lazy != null) {\\n                abd.setLazyInit(lazy.getBoolean(\\"value\\"));\\n            }\\n        }\\n\\n        if (metadata.isAnnotated(Primary.class.getName())) {\\n            abd.setPrimary(true);\\n        }\\n\\n        AnnotationAttributes dependsOn = attributesFor(metadata, DependsOn.class);\\n        if (dependsOn != null) {\\n            abd.setDependsOn(dependsOn.getStringArray(\\"value\\"));\\n        }\\n\\n        AnnotationAttributes role = attributesFor(metadata, Role.class);\\n        if (role != null) {\\n            abd.setRole(role.getNumber(\\"value\\").intValue());\\n        }\\n\\n        AnnotationAttributes description = attributesFor(metadata, Description.class);\\n        if (description != null) {\\n            abd.setDescription(description.getString(\\"value\\"));\\n        }\\n\\n    }\\n    \\n    ... \uc0dd\ub7b5\\n}\\n```\\n\uba54\uc11c\ub4dc\ub97c \ubcf4\uba74 Lazy, Primary \ub4f1 \uce5c\uc219\ud55c \ud074\ub798\uc2a4\ub97c \ub9cc\ub0a0 \uc218 \uc788\ub2e4. \uc774 \uba54\uc11c\ub4dc\uc5d0\uc11c \uc5b4\ub178\ud14c\uc774\uc158\uc744 \uae30\ubc18\uc73c\ub85c AnnotatedBeanDefinition \uc124\uc815 \uac12\ub4e4\uc744 \uc218\uc815\ud558\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\ub2e4. \\n\ub2e4\uc2dc \ucc98\uc74c\uc73c\ub85c \ub3cc\uc544\uac00\uc11c \uac04\ub7b5\ud558\uac8c \uc815\ub9ac\ud558\uc790\uba74 AnnotationConfigApplicationContext\uc758 register(...) \uba54\uc11c\ub4dc\ub294 \ub9e4\uac1c\ubcc0\uc218\ub85c \ubc1b\uc740 Class\ub97c Bean\uc73c\ub85c \ub4f1\ub85d\ud55c\ub2e4. \uc815\ud655\ud788\ub294 DefaultListableBeanFactory\ud074\ub798\uc2a4\uc758 `private final Map<String, BeanDefinition> beanDefinitionMap` \ud544\ub4dc\uc5d0 beanName\uacfc BeanDefinition\uc744 key\uc640 value\ub85c \ub4f1\ub85d\ud55c\ub2e4. \\n\ub354 \uc815\ud655\ud788\ub294 BeanDefinition\ub9cc \ub4f1\ub85d\ud558\uc9c0 \ucd08\uae30\ud654\ub294 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\ub294\ub2e4. IoC Container\uc5d0 Singleton Bean\uc744 \ucd08\uae30\ud654\ud558\ub294 \uc791\uc5c5\uc740 \ud574\ub2f9 Bean\uc744 \uc870\ud68c\ud560 \ub54c \ubc1c\uc0dd\ud558\uba70 AbstractBeanFactory\uc758 doGetBean(...)\ub97c \ud1b5\ud574 \ucd08\uae30\ud654 \ub41c\ub2e4.\\n<br></br>\\n\\n## \uc815\ub9ac\\n---\\n\uc0dd\uac01\ubcf4\ub2e4 \uc624\ub79c \uc2dc\uac04 \ub514\ubc84\uae45\uc744 \ud1b5\ud574 \uc54c\uc544\ubcf4\uc558\ub2e4. \uae34 \uc2dc\uac04\uc744 \ub4e4\uc5ec \uc54c\uac8c \ub41c \uc0ac\uc2e4\uc744 \uc694\uc57d\ud574\ubcf4\uc790\uba74 \uc544\ub798\uc640 \uac19\ub2e4.\\n1. Spring Boot\uc758 SpringApplication.run(...) \uba54\uc11c\ub4dc\ub97c \uc2e4\ud589\ud558\uba74 \uc57d 60\uc5ec\uac1c\uc758 Bean\ub4e4\uc774 \uc790\ub3d9\uc73c\ub85c \ub4f1\ub85d\ub41c\ub2e4.\\n2. Default ApplicationContext(IoC Container)\ub294 AnnotationConfigApplicationContext\uc774\uba70 spring-boot-stater-web \uc758\uc874\uc131\uc744 \ucd94\uac00\ud558\uba74 AnnotationConfigServletWebServerApplicationContext\uac00 Default\uc774\ub2e4.\\n3. \uc791\uc131\ud55c Object\uc640 Configuration Metadata\ub97c \uc870\ud569\ud558\uc5ec ApplicationContext(IoC Container)\ub294 Bean\uc744 \uad6c\uc131\ud55c\ub2e4.\\n   - Default\ub85c Configuration Metadata\ub294 Annotation\uc73c\ub85c \uad6c\uc131\ub418\uc9c0\ub9cc XML, Groovy \ub4f1\uc73c\ub85c \uc791\uc131\ub420 \uc218\ub3c4 \uc788\ub2e4.\\n4. Bean\uc774 \ub4f1\ub85d\ub418\ub294 \uc2dc\uc810\uacfc \ubc29\uc2dd\uc740 \ub2e4\uc591\ud558\ub2e4.\\n   - AnnotationConfigApplicationContext.register(...)\ub85c Bean\uc744 \ub4f1\ub85d\ud558\ub294 \uac83\uacfc @Component\ub098 @Bean\uc73c\ub85c Bean\uc744 \ub4f1\ub85d\ud558\ub294 \uac74 \ub4f1\ub85d\ub418\ub294 \uc2dc\uc810\uacfc \ubc29\uc2dd\uc774 \ubaa8\ub450 \ub2e4\ub974\ub2e4.\\n5. \ub2f9\uc5f0\ud558\uc9c0\ub9cc \ub4f1\ub85d\ub41c BeanDefinition\uacfc \uadf8\ub9ac\uace0 Singleton Object\ub294 \ub530\ub85c \uad00\ub9ac\ub41c\ub2e4.\\n<br></br> \\n\\nSpring\uc744 \uae4a\uc774 \uc54c\uc544\ubcf4\uace0\uc790 Annotation \uae30\ubc18\uc758 ApplicationContext\uac00 register(...) \uba54\uc11c\ub4dc\ub85c Bean\uc744 \ub4f1\ub85d\ud558\ub294 \uacfc\uc815\uc744 \uc0b4\ud3b4\ubd24\ub2e4. \uc694\uc998\ub4e4\uc5b4 `\ud6a8\uc728\uc131`\uc774\ub780 \ub2e8\uc5b4\uac00 \uc790\uc8fc \uba38\ub9ac\uc5d0 \ub9f4\ub3c8\ub2e4. \\n\ud6a8\uc728\uc131\uc740 \uc0dd\uc0b0\uc131\uacfc \uc9c1\uacb0\ub3e0\uace0 \uc774\ub294 \uace7 \uacb0\uacfc\ub85c \ub098\ud0c0\ub09c\ub2e4. \ub54c\ubb38\uc5d0 \ud559\uc2b5\uc5d0\uc11c\ub3c4 \ud6a8\uc728\uc801\uc778 \ubc29\ubc95\uc778\uc9c0\ub97c \uace0\ubbfc\ud558\uac8c \ub418\ub294 \uac83 \uac19\ub2e4. \ud2b9\ud788 \uc774\ub7f0 \ud559\uc2b5\uc740 \ubb34\uc5b8\uac00\ub97c \ub9cc\ub4e4\uc5b4\ub0c8\uc744 \ub54c\uc640\ub294 \ub2e4\ub974\uac8c \ub2f9\uc7a5\uc758 \uacb0\uacfc\ubb3c\uc774 \uc5c6\ub2e4.  \\n\ub610\ud55c \ub2f9\uc7a5\uc758 \uc5c5\ubb34\ub098 \uac1c\ubc1c\uc744 \uc704\ud55c \ud559\uc2b5\ub3c4 \uc544\ub2c8\uae30\uc5d0 \uc5b8\uc81c \uc5b4\ub5bb\uac8c \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \ub3c4\uc6c0\uc774 \ub420\uc9c0\ub3c4 \ubbf8\uc9c0\uc218\uc774\ub2e4. \uadf8\ub807\uae30\uc5d0 \ud6a8\uc728\uc131\uc774\ub780 \ub2e8\uc5b4\uac00 \uba38\ub9ac\ub97c \ub9f4\ub3cc\uc9c0 \uc54a\ub098 \uc2f6\ub2e4. \\n\ud558\uc9c0\ub9cc Spring\uc758 \ub0b4\ubd80\ub97c \uc0b4\ud3b4\ubcf4\ub294 \uc77c\uc744 \uc774\uc81c \ub9c9 \uc2dc\uc791\ud55c \ub2e8\uacc4\uc5d0\uc11c `\ud6a8\uc728\uc131`\uc744 \uc0dd\uac01\ud558\ub294 \uac74 \uc695\uc2ec\uc774 \uc544\ub2cc\uac00 \uc2f6\ub2e4. \uc77c\ub2e8 \uacc4\uc18d \uc2dc\uac04\uc744 \ub4e4\uc5ec\ubd10\uc57c\uaca0\ub2e4."},{"id":"/jdbc-datasource-hikaricp","metadata":{"permalink":"/jdbc-datasource-hikaricp","source":"@site/blog/jdbc-datasource-hikaricp.md","title":"JDBC, DataSource \uadf8\ub9ac\uace0 HikariCP","description":"\uc774 \uae00\uc740 Java \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uac04\uc758 \uc5f0\uacb0\uc744 \uad00\ub9ac\ud558\ub294 JDBC (Java Database Connectivity)\uc640 \uc774\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uae30 \uc704\ud55c \ub370\uc774\ud130 \uc18c\uc2a4(DataSource) \ubc0f HikariCP\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. JDBC\ub294 \ud45c\uc900 API\ub85c, DriverManager\ub97c \ud1b5\ud574 DB\uc640\uc758 \uc5f0\uacb0\uc744 \uad00\ub9ac\ud558\uc9c0\ub9cc, \uc131\ub2a5 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 \ub370\uc774\ud130 \uc18c\uc2a4(DataSource)\uac00 \ub4f1\uc7a5\ud588\uc73c\uba70, \ud2b9\ud788 HikariCP\ub294 \uace0\uc131\ub2a5 JDBC \ucee4\ub125\uc158 \ud480\ub85c \uc131\ub2a5 \ucd5c\uc801\ud654\ub97c \ud1b5\ud574 \ube60\ub974\uace0 \ud6a8\uc728\uc801\uc778 DB \uc5f0\uacb0\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. HikariCP\uc758 \uc7a5\uc810\uacfc \ub3d9\uc791 \ubc29\uc2dd\uc744 \ucf54\ub4dc \uc608\uc81c\uc640 \ud568\uaed8 \ub2e4\ub8f9\ub2c8\ub2e4.","date":"2024-05-12T00:00:00.000Z","tags":[{"label":"java","permalink":"/tags/java"},{"label":"database","permalink":"/tags/database"}],"readingTime":9.675,"hasTruncateMarker":true,"authors":[{"name":"\uad8c\uc6b0\uc11d","title":"Server Developer","url":"https://github.com/egg528","imageURL":"https://avatars.githubusercontent.com/u/62459196?v=4","key":"woosuk"}],"frontMatter":{"title":"JDBC, DataSource \uadf8\ub9ac\uace0 HikariCP","description":"\uc774 \uae00\uc740 Java \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uac04\uc758 \uc5f0\uacb0\uc744 \uad00\ub9ac\ud558\ub294 JDBC (Java Database Connectivity)\uc640 \uc774\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uae30 \uc704\ud55c \ub370\uc774\ud130 \uc18c\uc2a4(DataSource) \ubc0f HikariCP\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. JDBC\ub294 \ud45c\uc900 API\ub85c, DriverManager\ub97c \ud1b5\ud574 DB\uc640\uc758 \uc5f0\uacb0\uc744 \uad00\ub9ac\ud558\uc9c0\ub9cc, \uc131\ub2a5 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 \ub370\uc774\ud130 \uc18c\uc2a4(DataSource)\uac00 \ub4f1\uc7a5\ud588\uc73c\uba70, \ud2b9\ud788 HikariCP\ub294 \uace0\uc131\ub2a5 JDBC \ucee4\ub125\uc158 \ud480\ub85c \uc131\ub2a5 \ucd5c\uc801\ud654\ub97c \ud1b5\ud574 \ube60\ub974\uace0 \ud6a8\uc728\uc801\uc778 DB \uc5f0\uacb0\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. HikariCP\uc758 \uc7a5\uc810\uacfc \ub3d9\uc791 \ubc29\uc2dd\uc744 \ucf54\ub4dc \uc608\uc81c\uc640 \ud568\uaed8 \ub2e4\ub8f9\ub2c8\ub2e4.","authors":["woosuk"],"tags":["java","database"],"date":"2024-05-12T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Annotation \uae30\ubc18\uc758 ApplicationContext Bean \ub4f1\ub85d \uacfc\uc815 \ud30c\ud5e4\uce58\uae30 (1)","permalink":"/annotation-config-application-context"},"nextItem":{"title":"\uc138\uc0c1 \ub05d\uc758 \uce74\ud398","permalink":"/the-cafe-on-the-edge-of-the-world"}},"content":"**:white_check_mark: ChatGPT \uc694\uc57d**   \\n\uc774 \uae00\uc740 Java \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uac04\uc758 \uc5f0\uacb0\uc744 \uad00\ub9ac\ud558\ub294 JDBC (Java Database Connectivity)\uc640 \uc774\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uae30 \uc704\ud55c \ub370\uc774\ud130 \uc18c\uc2a4(DataSource) \ubc0f HikariCP\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. JDBC\ub294 \ud45c\uc900 API\ub85c, DriverManager\ub97c \ud1b5\ud574 DB\uc640\uc758 \uc5f0\uacb0\uc744 \uad00\ub9ac\ud558\uc9c0\ub9cc, \uc131\ub2a5 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 \ub370\uc774\ud130 \uc18c\uc2a4(DataSource)\uac00 \ub4f1\uc7a5\ud588\uc73c\uba70, \ud2b9\ud788 HikariCP\ub294 \uace0\uc131\ub2a5 JDBC \ucee4\ub125\uc158 \ud480\ub85c \uc131\ub2a5 \ucd5c\uc801\ud654\ub97c \ud1b5\ud574 \ube60\ub974\uace0 \ud6a8\uc728\uc801\uc778 DB \uc5f0\uacb0\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. HikariCP\uc758 \uc7a5\uc810\uacfc \ub3d9\uc791 \ubc29\uc2dd\uc744 \ucf54\ub4dc \uc608\uc81c\uc640 \ud568\uaed8 \ub2e4\ub8f9\ub2c8\ub2e4.\\n\x3c!-- truncate --\x3e\\n<br></br>\\n\\n\\n## JDBC (Java Database Connectivity)\\n---\\n![jdbc.jpg](img/jdbc.jpg)\\nJDBC\ub294 Java Application\uacfc DB \uc0ac\uc774\uc5d0 \uc5f0\uacb0\uc744 \uc704\ud55c \ud45c\uc900 API\uc774\ub2e4. JDBC\ub97c \ud1b5\ud574 \uac1c\ubc1c\uc790\ub294 DB\uc758 \uad6c\uccb4\uc801\uc778 \uc885\ub958\uc640 \uad00\uacc4 \uc5c6\uc774 \uc77c\uad00\ub41c \uc811\uadfc \ubc29\uc2dd\uc73c\ub85c DB\uc5d0 \uc811\uadfc\ud560 \uc218 \uc788\ub2e4. \\n\uc704 \uadf8\ub9bc\uc744 \ubcf4\uba74 \uc54c \uc218 \uc788\ub4ef\uc774 JDBC\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c\ub294 JDBC \uad6c\ud604\uccb4\uc778 JDBC Driver\uac00 \ud544\uc694\ud558\uace0 \uac1c\ubc1c\uc790\ub294 Driver\uc758 \uc0ac\uc6a9\ubc95\uc740 \uc54c \ud544\uc694 \uc5c6\uc774 JDBC\ub97c \uc0ac\uc6a9\ud574 DB\uc5d0 \uc811\uadfc\ud558\uac8c \ub41c\ub2e4.\\n<br></br>\\n\\n### (1) DriverManager\\n```java\\nprivate static Connection getConnection(String url, java.util.Properties info, Class<?> caller) throws SQLException {\\n    ... \uc0dd\ub7b5\\n\\n    for (DriverInfo aDriver : registeredDrivers) {\\n        // If the caller does not have permission to load the driver then\\n        // skip it.\\n        if (isDriverAllowed(aDriver.driver, callerCL)) {\\n            try {\\n                println(\\"    trying \\" + aDriver.driver.getClass().getName());\\n                Connection con = aDriver.driver.connect(url, info);\\n                if (con != null) {\\n                    // Success!\\n                    println(\\"getConnection returning \\" + aDriver.driver.getClass().getName());\\n                    return (con);\\n                }\\n            } catch (SQLException ex) {\\n                if (reason == null) {\\n                    reason = ex;\\n                }\\n            }\\n\\n        } else {\\n            println(\\"    skipping: \\" + aDriver.driver.getClass().getName());\\n        }\\n\\n    }\\n\\n    ... \uc0dd\ub7b5\\n}\\n```\\nDriverManager\ub294 JDBC Driver\ub4e4\uc744 \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \uac1d\uccb4\uc774\uace0 DriverManager\ub97c \ud1b5\ud574 DB Connection\uc744 \uc5bb\uc744 \uc218 \uc788\ub2e4. \\n\uc704 \uba54\uc11c\ub4dc\ub294 DriverManager \uac1d\uccb4 \ub0b4\uc758 private static getConnection(...) \uba54\uc11c\ub4dc\ub85c public static getConnection(...)\uac00 \ucd5c\uc885\uc801\uc73c\ub85c \ud638\ucd9c\ud558\uac8c \ub418\ub294 \uba54\uc11c\ub4dc\uc774\ub2e4. \\n\ub85c\uc9c1\uc744 \uc0b4\ud3b4\ubcf4\uba74 \ub4f1\ub85d\ub41c Driver\ub4e4\uc744 \uc21c\ud68c\ud558\uba70 connection\uc744 \ub9fa\uc5b4\ubcf4\uace0 \uac00\uc7a5 \uba3c\uc800 \ub9fa\uc5b4\uc9c4 Connection\uc744 \ubc18\ud658\ud55c\ub2e4. (\uc5ec\ub7ec Driver\uac00 \ub4f1\ub85d\ub41c \uacbd\uc6b0)  \\n<br></br>\\n\\n```java\\npublic static void main(String[] args) throws SQLException {\\n    String url = \\"jdbc:mysql://localhost:3306/study_db\\";\\n    String user = \\"root\\";\\n    String password = \\"1234\\";\\n\\n    try (Connection connection = DriverManager.getConnection(url, user, password)) {\\n\\n        // \uc815\uc801 SQL \uc2e4\ud589\uc744 \uc704\ud55c \uac1d\uccb4\\n        Statement statement = connection.createStatement();\\n\\n        // \uc9c8\uc758 \uacb0\uacfc \ud14c\uc774\ube14 \uac1d\uccb4\\n        // \uc2e4\uc81c DB \uc9c8\uc758\ub3c4 ResultSet \uac1d\uccb4\uac00 \ud558\uac8c \ub41c\ub2e4. (\ub2e8\uc21c\ud788 \uc9c8\uc758 \uacb0\uacfc\ub97c \uac00\uc9c0\ub294 \uac1d\uccb4\uac00 \uc544\ub2d8)\\n        ResultSet rs = statement.executeQuery(\\"SELECT * FROM users\\");\\n        while (rs.next()) {\\n            System.out.println(rs.getString(\\"name\\"));\\n        }\\n    }\\n}\\n```\\n\uc55e\uc11c \uc0b4\ud3b4\ubd24\ub4ef\uc774 DriverManager\ub294 url, user, password\uac12\uc73c\ub85c DB Connection\uc744 \ub9fa\uc5b4\uc8fc\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. \\n\ud558\uc9c0\ub9cc \uc704 \ucf54\ub4dc\ub97c \ubcf4\uba74 \uc54c \uc218 \uc788\ub4ef\uc774 DriverManager\ub294 DB \uc5f0\uacb0\uc744 Util \ud074\ub798\uc2a4\uc5d0 \uac00\uae5d\ub2e4. \\n\ub610\ud55c \ub9e4\ubc88 DB \uc811\uadfc\uc744 \uc704\ud574 Connection\uc744 \ub9fa\uace0 \ub04a\uc5b4\uc918\uc57c \ud55c\ub2e4\ub294 \uac83\ub3c4 DB \uc811\uadfc\uc774 \ube48\ubc88\ud55c Application \uc785\uc7a5\uc5d0\uc11c\ub294 \ud070 \ub0ad\ube44\uc77c \uac83\uc774\ub2e4. \\n\uc2e4\uc81c\ub85c DriverManager.getConnection(url, user, password) \uc218\ud589\uc18d\ub3c4\ub97c \ud655\uc778\ud574\ubcf4\ub2c8 \ubd80\ubd84\uc758 10\ud68c \ud3c9\uade0\uc774 0.25\ucd08\uc600\ub2e4.\\nAPI \uc694\uccad\uc5d0\uc11c DB \uc811\uadfc\uc744 \uc704\ud55c Connection \uc0dd\uc131\uc5d0 0.25\ucd08\ub97c \uc18c\ube44\ud55c\ub2e4\uba74 \uadf8 API\uc758 \uc131\ub2a5\uc740.. \ub354 \ub9d0\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub420 \uac83 \uac19\ub2e4.   \\n<br></br>\\n\\n### (2) DataSource\\n```java\\npublic interface DataSource  extends CommonDataSource, Wrapper {\\n\\n  Connection getConnection() throws SQLException;\\n\\n  Connection getConnection(String username, String password)\\n    throws SQLException;\\n    \\n  ... \uc0dd\ub7b5\\n}\\n```\\nDatasource\ub294 DB Connection\uc744 \uc0dd\uc131\ud558\ub294 \ud329\ud1a0\ub9ac\uc774\ub2e4. \\nDriverManager\uc758 \ub300\uc548\uc73c\ub85c \ud0c4\uc0dd\ud588\uace0 DB Connection\uc744 \ud68d\ub4dd\ud558\uae30 \uc704\ud55c \uba54\uc11c\ub4dc\ub4e4\uc774 \uc815\uc758\ub418\uc5b4 \uc788\ub2e4. \\nJDBC\uc5d0\uc11c\ub294 \ub530\ub85c \uad6c\ud604\uccb4\ub97c \uc81c\uacf5\ud558\uc9c0\ub294 \uc54a\ub294\ub2e4. \ub54c\ubb38\uc5d0 \uac1c\ubc1c\uc790\ub294 DataSource\uc758 \uc5ec\ub7ec \uad6c\ud604\uccb4 \uc911 \uc6d0\ud558\ub294 \uac78 \uc0ac\uc6a9\ud574 DB \uc811\uadfc \ubc29\uc2dd\uc744 \uc120\ud0dd\ud560 \uc218 \uc788\ub2e4.   \\n<br></br>\\n\\n## HikariCP\\n---\\n```text\\nSpring Boot uses the following algorithm for choosing a specific implementation:\\n\\n1. We prefer HikariCP for its performance and concurrency. If HikariCP is available, we always choose it.\\n2. Otherwise, if the Tomcat pooling DataSource is available, we use it.\\n3. Otherwise, if Commons DBCP2 is available, we use it.\\n4. If none of HikariCP, Tomcat, and DBCP2 are available and if Oracle UCP is available, we use it.\\n\\n(https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.datasource)\\n```\\nHikariCP\ub294 \uace0\uc131\ub2a5 JDBC Connection Pool\uc774\uc790 Java \uc9c4\uc601\uc5d0\uc11c DB Connection Pool\uc744 \uc0ac\uc6a9\ud560 \ub54c \uac00\uc7a5 \uba3c\uc800 \uace0\ub824\ub418\ub294 library\uc774\ub2e4. \\n\uc704 \uae00\uc740 spring boot \uacf5\uc2dd \ubb38\uc11c\uc778\ub370 Default DataSource\ub85c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 HikariCP\uc774\ub2e4. 1\ubc88 \uae00\ub9cc \uc77d\uc5b4\ubd10\ub3c4 HikariCP\ub97c \uc5bc\ub9c8\ub098 \uc2e0\ub8b0\ud558\ub294 \uc9c0\ub97c \uc54c \uc218 \uc788\ub2e4.\\n<br></br>\\n\\n\\n```java\\npublic static void main(String[] args) throws SQLException {\\n    HikariConfig config = new HikariConfig();\\n    config.setJdbcUrl(\\"jdbc:mysql://localhost:3306/study_db\\");\\n    config.setUsername(\\"root\\");\\n    config.setPassword(\\"1234\\");\\n\\n    try (HikariDataSource ds = new HikariDataSource(config)) {\\n        Connection connection = ds.getConnection();\\n\\n        // \uc815\uc801 SQL \uc2e4\ud589\uc744 \uc704\ud55c \uac1d\uccb4\\n        Statement statement = connection.createStatement();\\n        \\n        // \uc9c8\uc758 \uacb0\uacfc \ud14c\uc774\ube14 \uac1d\uccb4\\n        // \uc2e4\uc81c DB \uc9c8\uc758\ub3c4 ResultSet \uac1d\uccb4\uac00 \ud558\uac8c \ub41c\ub2e4. (\ub2e8\uc21c\ud788 \uc9c8\uc758 \uacb0\uacfc\ub97c \uac00\uc9c0\ub294 \uac1d\uccb4\uac00 \uc544\ub2d8)\\n        ResultSet rs = statement.executeQuery(\\"SELECT * FROM users\\");\\n        while (rs.next()) {\\n            System.out.println(rs.getString(\\"name\\"));\\n        }\\n\\n    }\\n}\\n```\\n\uba3c\uc800 HikariCP \uc0ac\uc6a9 \ucf54\ub4dc\ubd80\ud130 \uc0b4\ud3b4\ubcf4\uc790. \uc774\ub984\uc5d0\uc11c\ub3c4 \uc54c \uc218 \uc788\ub4ef\uc774 HikariCP\ub294 DataSource \uad6c\ud604\uccb4\uc778 HikariDataSource\ub97c \uc81c\uacf5\ud55c\ub2e4. \\nHikariDataSource\ub294 DataSource\uc758 \uad6c\ud604\uccb4\uc774\uc9c0\ub9cc \ucd94\uac00\uc801\uc73c\ub85c Closeable \uc778\ud130\ud398\uc774\uc2a4\ub97c \uad6c\ud604\ud558\uace0 \uc788\uae30\ub3c4 \ud558\ub2e4. \ub54c\ubb38\uc5d0 \uc704 \ucf54\ub4dc\ucc98\ub7fc try with resource \uad6c\ubb38\uacfc \ud568\uaed8 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.\\nHikariCP\ub294 \uc2a4\uc2a4\ub85c\ub97c \ube60\ub974\ub2e4\uace0 \uc18c\uac1c\ud558\ub294\ub370 \uc815\ub9d0 \ube60\ub978 \uac78\uae4c? 10\ubc88\uc744 \uc2e4\ud589\ud574\ubd24\uc744 \ub54c Connection connection = ds.getConnection()\uc758 \uc218\ud589 \uc2dc\uac04\uc740 \ud3c9\uade0 1 MilliSecond\uc774\ub2e4. \\n\uc774\ub294 DriverManager\ub97c \uc0ac\uc6a9\ud588\uc744 \ub54c\ubcf4\ub2e4 250\ubc30 \ube68\ub77c\uc9c4 \uc218\uce58\uc774\ub2e4. \uc5b4\ub5bb\uac8c HikariCP\ub294 DriverManager\uc5d0 \ube44\ud574 250\ubc30 \ube60\ub978 \uc131\ub2a5\uc744 \ub0bc \uc218 \uc788\ub294 \uac83\uc77c\uae4c?\\n<br></br>\\n\\n### (1) Pooling \uae30\ubc95\\nHikariCP\uc758 CP\ub294 Connection Pool\uc758 \uc57d\uc5b4\uc774\ub2e4. \ub9d0 \uadf8\ub300\ub85c Connection\uc744 \ubbf8\ub9ac \uc0dd\uc131\ud574\ub450\uace0 Pool\uc5d0 \ubcf4\uad00\ud55c \ud6c4 \ud544\uc694\ud560 \ub54c \uaebc\ub0b4\uc11c \uc4f0\ub294 \ubc29\uc2dd\uc774\ub2e4. \\n\uc774\ub7ec\ud55c \ubc29\uc2dd\uc740 DriverManger\ub97c \ud65c\uc6a9\ud574 \ud544\uc694\uc2dc\uc5d0 DB\uc640 Connection\uc744 \uc0dd\uc131\ud558\uace0 \uc0ac\uc6a9 \ud6c4 Connection\uc744 \ub2eb\ub294 \ubc29\uc2dd\uc5d0 \ube44\ud574 \uc131\ub2a5\uacfc \uc790\uc6d0 \uc0ac\uc6a9 \uce21\uba74\uc5d0\uc11c \ubaa8\ub450 \ud6a8\uc728\uc801\uc774\ub2e4.\\n<br></br>\\n\\n### (2) Delegates \ucd5c\uc801\ud654\\n\ub300\ub2e4\uc218\uc758 \uc0ac\ub78c\ub4e4\uc774 HikariCP\uac00 \uace0\uc131\ub2a5\uc778 \uc774\uc720\ub294 Pooling \uae30\ubc95\uc5d0 \uc788\ub2e4\uace0 \uc0dd\uac01\ud560 \uac83\uc774\uace0 \uc774\ub294 \ud2c0\ub9b0 \ub9d0\uc740 \uc544\ub2c8\ub2e4. \\n\ud558\uc9c0\ub9cc \ub2e4\ub978 Connection Pool \uae30\ubc18\uc758 DataSource\uc640 \ube44\uad50\ud588\uc744 \ub54c\uc5d0\ub3c4 HikariCP\uac00 \ub6f0\uc5b4\ub098\ub2e4\ub294 \uac74 \ub2e4\ub978 \uc774\uc720\ub4e4\ub3c4 \ubd84\uba85 \uc788\ub2e4\ub294 \ub73b\uc77c \uac83\uc774\ub2e4.\\n[Down the Rabbit Hole](https://github.com/brettwooldridge/HikariCP/wiki/Down-the-Rabbit-Hole) \uae00\uc5d0\uc11c\ub294 HikariCP\uac00 \uc5b4\ub5bb\uac8c \uace0\uc131\ub2a5\uc744 \ub2ec\uc131\ud588\ub294\uc9c0 \uc124\uba85\ud574\uc8fc\uba70 \\nConnection, Statement \ub4f1\uc744 \uac10\uc2fc Delegates\uc758 \ucd5c\uc801\ud654\uac00 \ud070 \uc5ed\ud560\uc744 \ud55c\ub2e4\uace0 \ub9d0\ud55c\ub2e4. \uac04\ub2e8\ud55c \uc608\uc2dc\ub85c ConnectionProxy\ub294 ArrayList\\\\<Statement> \uac1d\uccb4\ub97c \uac00\uc9c0\uace0 \uc788\ub294\ub370 Statement\ub97c \uc0dd\uc131\ud558\uace0 ArrayList\uc5d0 \ub2f4\uc740 \ud6c4 \uc0ac\uc6a9 \ud6c4\uc5d0\ub294 \uc81c\uac70\ub97c \ud574\uc8fc\uac8c \ub41c\ub2e4. \\n\uc774\ub54c remove() \uba54\uc11c\ub4dc\ub294 Head to tail \uc21c\uc11c\ub85c \uc6d0\uc18c\ub97c \ucc3e\ub294\ub2e4. \ud558\uc9c0\ub9cc \ub300\uac1c \uc0ac\uc6a9 \uc9c1\ud6c4 Statement\uac00 \uc81c\uac00\ub41c\ub2e4\ub294 \uac83\uc744 remove()\ub97c Tail to head \uc21c\uc11c\ub85c \uad6c\ud604\ud55c FastList \uc790\ub8cc \uad6c\uc870\ub97c \ub9cc\ub4e4\uc5b4 \uc0ac\uc6a9\ud55c\ub2e4\uace0 \ud55c\ub2e4. \\n\uc774\ub7ec\ud55c \ucd5c\uc801\ud654\ub294 \ud070 \uc131\ub2a5 \uac1c\uc120\uc740 \uc544\ub2c8\ub77c \ub9d0\ud558\uc9c0\ub9cc \uc774\uc815\ub3c4 \uc218\uc900\uc744 \uc2dc\uc791\uc73c\ub85c JIT \ucef4\ud30c\uc77c\ub7ec\ub97c \uc798 \ud65c\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \ubc14\uc774\ud2b8\ucf54\ub4dc \uc218\uc900\uc758 \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1\uae4c\uc9c0 \uc801\uc6a9\ub418\uc5b4 \uace0\uc131\ub2a5\uc744 \ub2ec\uc131\ud588\ub2e4\uace0 \uc124\uba85\ud574\uc900\ub2e4.\\n<br></br>\\n\\n## \uc815\ub9ac\\n--- \\nSpring Data JPA\ub098 Spring Data JDBC\ucc98\ub7fc \uac1c\ubc1c\uc790\uac00 \ud3b8\ud558\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub85c \uac1c\ubc1c\uc744 \ud558\ub2e4 \ubcf4\ub2c8 DB Connection\uacfc \uadf8 \uc8fc\ubcc0\ubd80\uc5d0 \ub300\ud574 \uc0dd\uac01\ud558\uc9c0 \uc54a\uace0 \uac1c\ubc1c\uc744 \ud574\uc654\ub2e4\ub294 \uc0dd\uac01\uc774 \ub4e0\ub2e4. \\n\uac8c\ub2e4\uac00 \ud68c\uc0ac \uc6b4\uc601\uc5d0\uc11c DB Connection\uacfc \uad00\ub828\ud55c \ubb38\uc81c \uc0c1\ud669\uc744 \uacaa\uc5b4\ubcf4\uc9c0 \ubabb\ud574 \ub354 \uc2e0\uacbd\uc744 \ubabb\uc37c\ub358 \uac83 \uac19\ub2e4. \\n\ud558\uc9c0\ub9cc JDBC, DataSource, HikariCP\ub77c\ub294 DB \uc811\uadfc\uc758 \uae30\ubc18 \uae30\uc220\uc744 \uc54c\uc544\ubcf4\uace0 \ub098\ub2c8 \uac1c\ubc1c\ud588\ub358 API\ub4e4\uc758 \ub3d9\uc791\uc744 \uc880 \ub354 \uc138\ubc00\ud558\uac8c \uc54c\uac8c\ub41c \uac83 \uac19\uc544 \uc88b\uc558\uace0, \ubb34\uc5c7\ubcf4\ub2e4 \ubb38\uc81c\uac00 \uc0dd\uacbc\uc744 \ub584 \ud574\uacb0 \uacfc\uc815\uc5d0\uc11c \ud070 \ud798\uc774\ub418\uc9c0 \uc54a\uc744\uae4c \uc2f6\ub2e4."},{"id":"/the-cafe-on-the-edge-of-the-world","metadata":{"permalink":"/the-cafe-on-the-edge-of-the-world","source":"@site/blog/the-cafe-on-the-edge-of-the-world.md","title":"\uc138\uc0c1 \ub05d\uc758 \uce74\ud398","description":"\uc774 \uae00\uc740 \ucc45 \\"\uc138\uc0c1 \ub05d\uc758 \uce74\ud398\\"\uc758 \ub3c5\ud6c4\uac10\uc785\ub2c8\ub2e4. \uc8fc\uc778\uacf5 \uc874\uc774 \uc5ec\ud589 \uc911 \uc6b0\uc5f0\ud788 \ubc29\ubb38\ud55c \uce74\ud398\uc5d0\uc11c 3\uac00\uc9c0 \uc9c8\ubb38\uc744 \ud1b5\ud574 \uc0b6\uc758 \uc758\ubbf8\ub97c \ucc3e\uc544\uac00\ub294 \uc774\uc57c\uae30\ub97c \ub2f4\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ucc45\uc740 \uc8fc\uc778\uacf5\uc774 \uce74\ud398 \uc9c1\uc6d0\uacfc \uc190\ub2d8\ub4e4\uc758 \uc774\uc57c\uae30\ub97c \ud1b5\ud574 \'\ub2f9\uc2e0\uc740 \uc65c \uc5ec\uae30 \uc788\uc2b5\ub2c8\uae4c?\', \'\uc8fd\uc74c\uc774 \ub450\ub835\uc2b5\ub2c8\uae4c?\', \'\ucda9\ub9cc\ud55c \uc0b6\uc744 \uc0b4\uace0 \uc788\uc2b5\ub2c8\uae4c?\'\ub77c\ub294 \uc9c8\ubb38\uc5d0 \ub300\ud55c \ub2f5\uc744 \ucc3e\uc544\uac00\uba70 \uc790\uc2e0\uc758 \uc0b6\uc744 \ub3cc\uc544\ubcf4\ub294 \uacfc\uc815\uc744 \uadf8\ub9bd\ub2c8\ub2e4. \ub3c5\uc790\ub294 \uc774 \uc9c8\ubb38\uc744 \ud1b5\ud574 \uc790\uc2e0\uc758 \uc0b6\uc744 \uc131\ucc30\ud558\uace0 \ud604\uc7ac \uc6d0\ud558\ub294 \uac83\uc744 \uba85\ud655\ud788 \ud558\uba70 \ucda9\ub9cc\ud55c \uc0b6\uc744 \uc0b4\uc544\uac00\ub294 \ubc29\ubc95\uc744 \ubaa8\uc0c9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","date":"2023-12-04T00:00:00.000Z","tags":[{"label":"book","permalink":"/tags/book"}],"readingTime":11.91,"hasTruncateMarker":true,"authors":[{"name":"\uad8c\uc6b0\uc11d","title":"Server Developer","url":"https://github.com/egg528","imageURL":"https://avatars.githubusercontent.com/u/62459196?v=4","key":"woosuk"}],"frontMatter":{"title":"\uc138\uc0c1 \ub05d\uc758 \uce74\ud398","description":"\uc774 \uae00\uc740 \ucc45 \\"\uc138\uc0c1 \ub05d\uc758 \uce74\ud398\\"\uc758 \ub3c5\ud6c4\uac10\uc785\ub2c8\ub2e4. \uc8fc\uc778\uacf5 \uc874\uc774 \uc5ec\ud589 \uc911 \uc6b0\uc5f0\ud788 \ubc29\ubb38\ud55c \uce74\ud398\uc5d0\uc11c 3\uac00\uc9c0 \uc9c8\ubb38\uc744 \ud1b5\ud574 \uc0b6\uc758 \uc758\ubbf8\ub97c \ucc3e\uc544\uac00\ub294 \uc774\uc57c\uae30\ub97c \ub2f4\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ucc45\uc740 \uc8fc\uc778\uacf5\uc774 \uce74\ud398 \uc9c1\uc6d0\uacfc \uc190\ub2d8\ub4e4\uc758 \uc774\uc57c\uae30\ub97c \ud1b5\ud574 \'\ub2f9\uc2e0\uc740 \uc65c \uc5ec\uae30 \uc788\uc2b5\ub2c8\uae4c?\', \'\uc8fd\uc74c\uc774 \ub450\ub835\uc2b5\ub2c8\uae4c?\', \'\ucda9\ub9cc\ud55c \uc0b6\uc744 \uc0b4\uace0 \uc788\uc2b5\ub2c8\uae4c?\'\ub77c\ub294 \uc9c8\ubb38\uc5d0 \ub300\ud55c \ub2f5\uc744 \ucc3e\uc544\uac00\uba70 \uc790\uc2e0\uc758 \uc0b6\uc744 \ub3cc\uc544\ubcf4\ub294 \uacfc\uc815\uc744 \uadf8\ub9bd\ub2c8\ub2e4. \ub3c5\uc790\ub294 \uc774 \uc9c8\ubb38\uc744 \ud1b5\ud574 \uc790\uc2e0\uc758 \uc0b6\uc744 \uc131\ucc30\ud558\uace0 \ud604\uc7ac \uc6d0\ud558\ub294 \uac83\uc744 \uba85\ud655\ud788 \ud558\uba70 \ucda9\ub9cc\ud55c \uc0b6\uc744 \uc0b4\uc544\uac00\ub294 \ubc29\ubc95\uc744 \ubaa8\uc0c9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","authors":["woosuk"],"tags":["book"],"date":"2023-12-04T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"JDBC, DataSource \uadf8\ub9ac\uace0 HikariCP","permalink":"/jdbc-datasource-hikaricp"}},"content":"**:white_check_mark: ChatGPT \uc694\uc57d**   \\n\uc774 \uae00\uc740 \ucc45 \\"\uc138\uc0c1 \ub05d\uc758 \uce74\ud398\\"\uc758 \ub3c5\ud6c4\uac10\uc785\ub2c8\ub2e4. \uc8fc\uc778\uacf5 \uc874\uc774 \uc5ec\ud589 \uc911 \uc6b0\uc5f0\ud788 \ubc29\ubb38\ud55c \uce74\ud398\uc5d0\uc11c 3\uac00\uc9c0 \uc9c8\ubb38\uc744 \ud1b5\ud574 \uc0b6\uc758 \uc758\ubbf8\ub97c \ucc3e\uc544\uac00\ub294 \uc774\uc57c\uae30\ub97c \ub2f4\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ucc45\uc740 \uc8fc\uc778\uacf5\uc774 \uce74\ud398 \uc9c1\uc6d0\uacfc \uc190\ub2d8\ub4e4\uc758 \uc774\uc57c\uae30\ub97c \ud1b5\ud574 \'\ub2f9\uc2e0\uc740 \uc65c \uc5ec\uae30 \uc788\uc2b5\ub2c8\uae4c?\', \'\uc8fd\uc74c\uc774 \ub450\ub835\uc2b5\ub2c8\uae4c?\', \'\ucda9\ub9cc\ud55c \uc0b6\uc744 \uc0b4\uace0 \uc788\uc2b5\ub2c8\uae4c?\'\ub77c\ub294 \uc9c8\ubb38\uc5d0 \ub300\ud55c \ub2f5\uc744 \ucc3e\uc544\uac00\uba70 \uc790\uc2e0\uc758 \uc0b6\uc744 \ub3cc\uc544\ubcf4\ub294 \uacfc\uc815\uc744 \uadf8\ub9bd\ub2c8\ub2e4. \ub3c5\uc790\ub294 \uc774 \uc9c8\ubb38\uc744 \ud1b5\ud574 \uc790\uc2e0\uc758 \uc0b6\uc744 \uc131\ucc30\ud558\uace0 \ud604\uc7ac \uc6d0\ud558\ub294 \uac83\uc744 \uba85\ud655\ud788 \ud558\uba70 \ucda9\ub9cc\ud55c \uc0b6\uc744 \uc0b4\uc544\uac00\ub294 \ubc29\ubc95\uc744 \ubaa8\uc0c9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\x3c!-- truncate --\x3e\\n<br></br>\\n\\n## \ucc45 \uc120\ubb3c\uc744 \ubc1b\ub2e4\\n---\\n\ub514\ud504\ub9cc \ud300\uc7a5 \ud64d\uc11d\uc774\uc5d0\uac8c \ud06c\ub9ac\uc2a4\ub9c8\uc2a4 \ucc45 \uc120\ubb3c\uc744 \ubc1b\uc558\ub2e4.  \\n\ud64d\uc11d\uc774\uac00 \uc804\uc5d0 \uc77d\uc5c8\ub358 \ucc45\uc778\ub370 \ub0b4\uac00 \uc77d\uc5b4\ub3c4 \uc88b\uc744 \uac83 \uac19\uc544\uc11c \uc120\ubb3c\uc744 \ud588\ub2e4\uace0 \ud55c\ub2e4.  \\n\ub514\ud504\ub9cc\uc744 \uc2e0\uccad\ud558\uae38 \ucc38 \uc798\ud588\ub2e4 \uc0dd\uac01\ud55c \ub370\uc5d0\ub294 \uc5ec\ub7ec \uc774\uc720\uac00 \uc788\uc9c0\ub9cc, \uac00\uc7a5 \ud070 \uc774\uc720\ub294 \uc774\ub807\uac8c \uc88b\uc740 \uc0ac\ub78c\uc744 \ub9cc\ub0a0 \uc218 \uc788\uc5c8\uae30 \ub54c\ubb38\uc774\ub2e4. \ub355\ubd84\uc5d0 \uc5f0\ub9d0\uc5d0 \uc624\ub79c\ub9cc\uc5d0 \uac1c\ubc1c \uc678\uc801\uc778 \ucc45\uc744 \ud3bc\uccd0\ubd24\ub2e4.\\n\\n## \uac1c\uc694\\n---\\n\uc8fc\uc778\uacf5 \uc874\uc740 \uc77c\uacfc \uc77c\uc0c1\uc5d0\uc11c\ubd80\ud130 \uc790\uc720\ub85c\uc6cc\uc9c0\uae30 \uc704\ud574 \uc5ec\ud589\uc744 \ub5a0\ub09c\ub2e4. \ud558\uc9c0\ub9cc \uc608\uae30\uce58 \ubabb\ud55c \uc0ac\uace0\ub85c \ub3c4\ub85c\uac00 \ub9c9\ud600 \uc624\ub3c4 \uac00\ub3c4 \ubabb\ud558\ub294 \uc0c1\ud669\uc5d0\uc11c \uacc4\ud68d\uacfc \ub2e4\ub978 \uae38\ub85c \ubc29\ud5a5\uc744 \ud2bc\ub2e4. \\n\uacc4\ud68d\uc5d0 \uc5c6\ub358 \uae38\uc774\uc5c8\uae30\uc5d0 \uae38\uc744 \ud5e4\ub9e4\uc774\ub2e4 \uc5f0\ub8cc\uac00 \uac70\uc758 \ub2e4 \ub5a8\uc5b4\uc9c4 \uc2dc\uc810, \uc6b0\uc5f0\ud788 \ubd88\uc774 \ucf1c\uc9c4 \uce74\ud398(\uc138\uc0c1 \ub05d\uc758 \uce74\ud398)\ub97c \ubc1c\uacac\ud55c\ub2e4.  \\n<br></br>\\n\\n\\n\uae38\uc744 \ud5e4\ub9e4\uc774\uba70 \ud5c8\uae30\uc9c4 \uc874\uc740 \uc74c\uc2dd\uc744 \uc8fc\ubb38\ud55c\ub2e4. \ud558\uc9c0\ub9cc \uc138\uc0c1 \ub05d\uc758 \uce74\ud398\uc758 \uba54\ub274\ud310\uc5d0\ub294 \uc74c\uc2dd\ub4e4\uacfc \ud568\uaed8 3\uac00\uc9c0 \uc9c8\ubb38\uc774 \uc801\ud600\uc788\ub2e4.\\n```text\\n1. \ub2f9\uc2e0\uc740 \uc65c \uc5ec\uae30 \uc788\uc2b5\ub2c8\uae4c?\\n2. \uc8fd\uc74c\uc774 \ub450\ub835\uc2b5\ub2c8\uae4c?\\n3. \ucda9\ub9cc\ud55c \uc0b6\uc744 \uc0b4\uace0 \uc788\uc2b5\ub2c8\uae4c?\\n```\\n<br></br>  \\n\ud5c8\uae30\ub97c \ub2ec\ub798\uae30 \uc704\ud574 \uce74\ud398\uc5d0 \ub4e4\uc5b4\uc628 \uc874\uc740 \uc608\uae30\uce58 \ubabb\ud55c 3\uac00\uc9c0 \uc9c8\ubb38\uc744 \ub9c8\uc8fc\ud558\uac8c \ub418\uace0 \uc885\uc5c5\uc6d0 \ucf00\uc774\uc2dc, \uba3c\uc800 \uc628 \uc190\ub2d8 \uc564, \uc8fc\ubc29\uc7a5 \ub9c8\uc774\ud06c\uc758 \uc774\uc57c\uae30\ub97c \ub4e4\uc73c\uba70 3\uac00\uc9c0 \uc9c8\ubb38\uc774 \uc5b4\ub5a4 \uc758\ubbf8\ub97c \uac00\uc9c0\uace0 \uc788\ub294\uc9c0, \uc65c \ud544\uc694\ud55c\uc9c0\ub97c \uc774\ud574\ud558\uac8c \ub418\uba70 \uc138\uc0c1\uc744 \ubc14\ub77c\ubcf4\ub294 \uad00\uc810\uc5d0 \ubcc0\ud654\ub97c \ub9de\uc774\ud55c\ub2e4.\\n<br></br>\\n\\n## \ud30c\ub3c4 \uc704\uc758 \ub179\uc0c9 \ubc14\ub2e4\uac70\ubd81 \uc774\uc57c\uae30\\n---\\n\uc138\uc0c1 \ub05d\uc758 \uce74\ud398\ub294 \ub0b4\uac00 \ud604\uc7ac \uc815\ub9d0\ub85c \uc6d0\ud558\ub294 \uac83\uc774 \ubb34\uc5c7\uc778\uc9c0\ub97c \uc54c\uc544\uc57c \ud55c\ub2e4 \ub9d0\ud55c\ub2e4. \ub300\ub2e4\uc218\uc758 \uc0ac\ub78c\ub4e4\uc740 \uc77c\uc744 \uc5f4\uc2ec\ud788 \ud574\uc11c \ub098\uc911\uc5d0 \ubcf4\uc0c1\uc744 \ubc1b\uae30\ub97c \uc6d0\ud558\uac70\ub098 \uc9c0\uae08 \ud558\ub294 \uc77c\uc744 \uad00\uc131\ucc98\ub7fc \ud558\uba74\uc11c \uc0b4\uc544\uac04\ub2e4. \ud558\uc9c0\ub9cc \ud604\uc7ac\uc5d0 \ub0b4\uac00 \ud558\uace0 \uc2f6\uc740 \uac83, \uc6d0\ud558\ub294 \uac83\uc744 \ucc3e\uc544\uc57c \ud558\uace0 \uc774\ub294 \uace7 `\ub2f9\uc2e0\uc740 \uc65c \uc5ec\uae30\uc5d0 \uc788\uc2b5\ub2c8\uae4c?`\uc640 \uc5f0\uacb0\ub41c\ub2e4.  \\n<br></br>\\n\\n\ud604\uc7ac \ub0b4\uac00 \uc6d0\ud558\ub294 \uac83\uc744 \uc544\ub294 \uac8c \uaf2d \ud544\uc694\ud560\uae4c? \ucf00\uc774\uc2dc\ub294 \uc758\ubb38\uc5d0 \ub300\ud55c \ud574\ub2f5\uc73c\ub85c \ubc14\ub2e4 \uac70\ubd81 \uc774\uc57c\uae30\ub97c \ub4e4\ub824\uc900\ub2e4. \uac70\ubd81\uc774\uac00 \ub290\ub9b4 \uac70\ub77c \uc0dd\uac01\ud558\uc9c0\ub9cc \uc2e4\uc81c\ub85c\ub294 \uad49\uc7a5\ud788 \ube60\ub974\uace0 \uc7a1\uc73c\ub824\uace0 \ub530\ub77c\uac00\uba74 \uc808\ub300 \ub530\ub77c\uac08 \uc218 \uc5c6\ub2e4. \uadf8\ub7f0\ub370 \ubc14\ub2e4 \uac70\ubd81\uc758 \uc774\ub3d9\uc5d0\ub294 \ube44\ubc00\uc774 \uc788\ub2e4. \ubc14\ub85c \uc790\uc2e0\uc774 \uac00\uace0\uc790 \ud558\ub294 \ud30c\ub3c4\ub97c \uae30\ub2e4\ub9ac\uace0 \uc774\uc6a9\ud55c\ub2e4\ub294 \uac83\uc774\ub2e4. \ub9cc\uc57d \uc790\uc2e0\uc774 \uac00\uace0\uc790 \ud558\ub294 \ubc29\ud5a5\uc744 \uac70\uc2a4\ub974\ub294 \ud30c\ub3c4\uac00 \uc628\ub2e4\uba74 \ubc14\ub2e4 \uac70\ubd81\uc740 \uc790\uc2e0\uc774 \uc6d0\ud558\ub294 \ud30c\ub3c4\ub97c \uae30\ub2e4\ub9ac\uba70 \uccb4\ub825\uc744 \ud68c\ubcf5\ud55c\ub2e4.  \\n<br></br>\\n\\n\uc6b0\ub9ac\ub294 \uc77c\uc0c1\uc5d0\uc11c \uc608\uae30\uce58 \ubabb\ud55c \ub2e4\uc591\ud55c \uc77c\uc744 \uacaa\uac8c \ub418\uace0 \ubaa8\ub4e0 \uc77c\uc5d0 \ucd5c\uc120\uc744 \ub2e4\ud574 \ubc1c\ubc84\ub465\uce58\ub2e4 \ubcf4\uba74 \uc815\uc791 \ud544\uc694\ud55c \uc21c\uac04\uc5d0 \uc5d0\ub108\uc9c0\uac00 \uc5c6\uc744 \uc218 \uc788\ub2e4. \ud558\uc9c0\ub9cc \ub0b4\uac00 \uc815\ub9d0 \uc6d0\ud558\ub294 \uac8c \ubb34\uc5c7\uc778\uc9c0 \uc54c\uace0 \uc788\ub2e4\uba74 \ubc14\ub2e4 \uac70\ubd81\ucc98\ub7fc \ub0b4\uac00 \uc6d0\ud558\uc9c0 \uc54a\ub294 \uc77c\uc5d0\ub294 \uccb4\ub825\uc744 \ud68c\ubcf5\ud558\uace0 \uc815\ub9d0 \uc6d0\ud558\ub294 \uc77c\uc774 \uc788\uc744 \ub54c \uc5d0\ub108\uc9c0\ub97c \uc3df\uc744 \uc218 \uc788\ub2e4.\\n<br></br>\\n\\n## \uc6d0\ud558\uc9c0\ub3c4 \uc54a\ub294 \uc77c\uc744 \ud558\ub294 \uc774\uc720\\n---\\n\ub0b4\uac00 \ubb34\uc5c7\uc744 \uc6d0\ud558\ub294\uc9c0 \uc798\ubabb \uc54c\uace0 \uc788\ub294 \uacbd\uc6b0\ub3c4 \uc788\uc744 \uc218 \uc788\ub2e4. \uba3c\uc800 \uc628 \uc190\ub2d8 \uc564\uc740 \uad11\uace0\uc5d0 \ub300\ud574 \uc598\uae30\ud55c\ub2e4. \uc564\uc758 \ub9d0\uc744 \ube4c\ub9ac\uc790\uba74 \uc138\uc0c1\uc758 \uc628\uac16 \uad11\uace0\ub294 \uc0c1\ud488\uc744 \uad6c\ub9e4\ud558\uba74 \uc778\uc0dd\uc5d0 \uc758\ubbf8\uac00 \uc0dd\uae34\ub2e4\uac70\ub098 \uc778\uc0dd\uc774 \ud589\ubcf5\ud574\uc9c0\ub294 \uac83\ucc98\ub7fc \ud45c\ud604\ud55c\ub2e4. \ub610\ud55c \uc774\ub7f0 \uba54\uc2dc\uc9c0\ub294 \uc0c1\ud488\uc744 \uad6c\ub9e4\ud788\uc790 \uc54a\uc73c\uba74 \uc778\uc0dd\uc5d0 \ud589\ubcf5\uacfc \uc758\ubbf8\uac00 \uc5c6\ub2e4\ub294 \ub0b4\uc6a9\uc744 \ub0b4\ud3ec\ud55c\ub2e4.\\n\uc564\uc740 \uc790\uc2e0\uc774 \uc774\ub7f0 \uc0c1\ud488\uc744 \uad6c\ub9e4\ud558\uae30\ub97c \uc6d0\ud588\uace0 \uc774\ub97c \uc704\ud574 \uc790\uc2e0\uc758 \uc2dc\uac04\uc744 \uc368\uac00\uba70 \ub3c8\uc744 \ubc8c\uc5c8\ub2e4\uace0 \ub9d0\ud55c\ub2e4. \ud558\uc9c0\ub9cc \uc815\uc791 \ubb3c\uac74\uc744 \uc0c0\uc744 \ub54c \uc778\uc0dd\uc5d0 \ud589\ubcf5\uacfc \uc758\ubbf8\uac00 \uc564\uc5d0\uac8c \ucc3e\uc544\uc624\uc9c0\ub294 \uc54a\uc558\ub2e4. \uc564\uc740 \uc774\ub7ec\ud55c \uc545\uc21c\ud658(\uad11\uace0 -> \uc77c -> \ubb3c\uac74 \uad6c\ub9e4 -> \ud070 \ub9cc\uc871 \uc5c6\uc74c)\uc758 \uc6d0\uc778\uc744 \uc790\uc2e0\uc774 \uc815\ub9d0\ub85c \uc6d0\ud558\ub294 \uac83\uc774 \ubb34\uc5c7\uc778\uc9c0 \uc798\ubabb \uc54c\uace0 \uc788\uc5c8\uae30 \ub54c\ubb38\uc774\ub77c \ub9d0\ud55c\ub2e4.   \\n<br></br>  \\n\\n\uc774\ub7ec\ud55c \uc545\uc21c\ud658\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud574\uc11c\ub77c\ub3c4 \uc6b0\ub9ac\ub294 \ud604\uc7ac \uc2a4\uc2a4\ub85c\uac00 \uc6d0\ud558\ub294 \uac83\uc744 \uba85\ud655\ud788 \uc54c\uace0 \uc788\uc744 \ud544\uc694\uac00 \uc788\ub2e4.\\n<br></br>\\n\\n## \uc8fd\uc74c\uc774 \ub450\ub835\uc2b5\ub2c8\uae4c?\\n---\\n\uac11\uc791\uae30 \uc8fd\uc74c\uc774\ub780 \ub2e8\uc5b4\uac00 \uc5b4\uc0c9\ud574 \ubcf4\uc77c \uc218 \uc788\ub2e4. \ub0b4\uac00 \ud604\uc7ac \uc6d0\ud558\ub294 \uac8c \ubb34\uc5c7\uc778\uc9c0 \uba85\ud655\ud788 \uc54c\uace0 \uc774\ub97c \uc2e4\ucc9c\ud558\ub294 \uc0b6\uc744 \uc0b0\ub2e4\uba74 \uc8fd\uc74c\uc774 \ubb34\uc12d\uc9c0 \uc54a\ub2e4\ub294 \uac78\uae4c? \uadf8\uac74 \uc544\ub2c8\ub2e4 \ub2e4\ub9cc \ubbf8\ub798\ub97c \uc704\ud574 \ud604\uc7ac\ub97c \ud76c\uc0dd\ud558\uba70 \uc0b4\uc544\uac14\uc744 \ub54c \uc8fd\uc74c\uc774 \ucc3e\uc544\uc628\ub2e4\uba74 \uc0b6\uc5d0\uc11c \ud76c\uc0dd\ub9cc \ud558\ub2e4 \uac00\ub294 \uac83 \uc544\ub2cc\uac00.  \\n<br></br>\\n\\n\ud604\uc7ac \ub0b4\uac00 \uc815\ub9d0\ub85c \uc6d0\ud558\ub294 \uac83\uc744 \ud558\uace0 \uc788\ub2e4\uba74 \ub0b4\uac00 \uc8fd\ub294\ub2e4 \ud558\ub354\ub77c\ub3c4 \ub0b4\uac00 \uc0b4\uc544\uac00\ub358 \ubc29\uc2dd\uc5d0 \ud6c4\ud68c\uac00 \uc5c6\uc744 \uac83\uc774\uace0 \ub098\ub294 \ucd5c\uc120\uc758 \uc0b6\uc744 \uc0b4\uace0 \uc788\uc5c8\ub358 \uac83\uc774\ub2c8 \ud6c4\ud68c\uac00 \uc801\uc744 \uac83\uc774\uace0 \uac11\uc791\uc2a4\ub7f0 \uc8fd\uc74c\uc5d0 \uc544\uc26c\uc6c0\uc774 \ub35c\ud558\ub2e4\ub294 \uc815\ub3c4\ub85c \uc774\ud574\ud588\ub2e4.  \\n<br></br>\\n\\n\uc774 \ub0b4\uc6a9\uc740 \uc2a4\ud2f0\ube0c \uc7a1\uc2a4\uc758 \uc2a4\ud0e0\ud3ec\ub4dc \uc5f0\uc124 \uc911 \ub9e4\uc77c \uc544\uce68 \uac70\uc6b8\uc744 \ubcf4\uba70 `\ub0b4\uc77c \uc8fd\uc5b4\ub3c4 \uc774 \uc77c\uc744 \ud558\uace0 \uc788\uc744 \uac83\uc778\uac00?`\ub77c\ub294 \uc9c8\ubb38\uc744 \ub358\uc84c\uace0 No\ub77c\ub294 \ub300\ub2f5\uc774 \ub098\uc624\uba74 \ubc29\ud5a5\uc744 \ubc14\uafe8\ub2e4\ub294 \ub9d0\uacfc\ub3c4 \ube44\uc2b7\ud55c \ub0b4\uc6a9\uc774\ub77c \ub290\uaf08\uc84c\ub2e4.\\n\\n<br></br>\\n## \ub2f9\uc2e0\uc740 \ucda9\ub9cc\ud55c \uc0b6\uc744 \uc0b4\uace0 \uc788\uc2b5\ub2c8\uae4c?\\n---\\n\uc6b0\ub9ac\uac00 \ubb34\uc5c7\uc744 \ubc30\uc6b0\uba70 \uc790\ub790\uac74, \uc5b4\ub5a4 \uad11\uace0\ub97c \uc811\ud558\uba70 \uc0b4\uc558\uac74, \uc5b4\ub5a4 \uc77c\uc744 \ud558\uba70 \uc5b4\ub5a4 \uc2a4\ud2b8\ub808\uc2a4\ub97c \ubc1b\uc558\uac74 \uacb0\uad6d \uc6b0\ub9ac \uc0b6\uc744 \ub9cc\ub4e4\uc5b4 \ub098\uac00\ub294 \uac74 \uc790\uc2e0\uc774\ub2e4. \ub0b4\uac00 \ud604\uc7ac \ud558\uace0 \uc2f6\uc740 \uac83, \uc6d0\ud558\ub294 \uac83\uc744 \uba85\ud655\ud788 \uc54c\uace0 \uc788\ub2e4\uace0 \ud558\ub354\ub77c\ub3c4 \uc2a4\uc2a4\ub85c \uc2e4\ucc9c\ud558\uc9c0 \uc54a\uc73c\uba74 \ubaa8\ub974\uace0 \uc788\ub294 \uac83\uacfc \ub2e4\ub974\uc9c0 \uc54a\uc744 \uac83\uc774\ub2e4. \uacb0\uad6d \ub9c8\uc9c0\ub9c9 \uc9c8\ubb38\uc740 \ub0b4\uac00 \uc138\uc0c1\uc5d0 \uc874\uc7ac\ud558\ub294 \uc774\uc720 \uc989, \ub0b4\uac00 \uc6d0\ud558\ub294 \uac83\uc744 \ucda9\ubd84\ud788 \ud558\uba74\uc11c \uc0b6\uc744 \ucda9\ub9cc\ud558\uac8c \ub9cc\ub4e4\uc5b4\uac00\uace0 \uc788\ub294\uc9c0\ub97c \ubb3b\uace0 \uc788\ub2e4\uace0 \uc774\ud574\ud560 \uc218 \uc788\ub2e4.\\n\\n<br></br>\\n## \ub0b4\uac00 \uc5c6\uc5b4\ub3c4 \uc874\uc7ac\ud560 \uc544\ub984\ub2e4\uc6b4 \uac83\ub4e4\\n---\\n\uc628\uac16 \uc77c\ub4e4\uc5d0 \ub458\ub7ec \uc313\uc5ec \uc2a4\ud2b8\ub808\uc2a4\ub97c \ubc1b\uace0 \uc788\ub294 \uc0c1\ud669\uc5d0\uc11c \uc138\uc0c1\uc740 \uc2a4\ud2b8\ub808\uc2a4\uac00 \uac00\ub4dd\ud55c \uacf3\uc774\ub2e4. \ud558\uc9c0\ub9cc \ub0b4\uac00 \uc138\uc0c1\uc744 \uc2a4\ud2b8\ub808\uc2a4 \uac00\ub4dd\ud55c \uacf3\uc774\ub77c \uc0dd\uac01\ud558\ub294 \uc640\uc911\uc5d0\ub3c4 \ub204\uad70\uac00\ub294 \uc138\uc0c1\uc744 \ucda9\ub9cc\ud55c \uacf3\uc73c\ub85c \ub290\ub07c\uace0 \uc788\uc744 \uc218 \uc788\ub2e4. \ubfd0\ub9cc \uc544\ub2c8\ub77c \ub0b4\uac00 \ucda9\ub9cc\ud558\uac8c \ub290\ub084 \uc218 \uc788\ub294 \uc138\uc0c1\ub3c4 \ubd84\uba85 \uc874\uc7ac\ud558\uace0 \uc788\uc744 \uac83\uc774\ub2e4.  \\n<br></br>\\n\\n\uadf8\ub7ec\ub2c8 \ub0b4\uac00 \ubc14\ub77c\ubcf4\ub294 \uc138\uc0c1\uc774 \ubd80\uc815\uc801\uc778 \uacf5\uac04\uc774\ub77c\uba74, \uc5b4\ub518\uac00\uc5d0 \uc874\uc7ac\ud558\ub294 \ucda9\ub9cc\ud55c \uc138\uc0c1\uc744 \ucc3e\uc544 \ub098\uc11c\ubcf4\ub294 \uac83\ub3c4 \ub098\uc058\uc9c0 \uc54a\uc744 \uac83 \uac19\ub2e4.\\n<br></br>\\n\\n## \ub0b4 \uc0dd\uac01\\n---\\n\uc138\uc0c1 \ub05d\uc758 \uce74\ud398\ub77c\ub294 \ucc45\uc740 \uad50\ud6c8\uc801\uc778 \uc131\ud5a5\uc774 \uac15\ud558\ub2e4. 3\uac00\uc9c0 \uc9c8\ubb38\uc5d0 \ub300\ud574 \ub3c5\uc790\uac00 \uc65c \ub300\ub2f5\uc744 \ud574\uc57c\ud558\ub294\uc9c0 \uc124\ub4dd\ud558\uba70 \uc790\uc2e0\ub9cc\uc758 \uc815\ub2f5\uc744 \ucc3e\uc558\uc744 \ub54c \ub2ec\ub77c\uc9c0\ub294 \uac83\ub4e4\uc5d0 \ub300\ud574 \uc124\uba85\ud55c\ub2e4. \ub9c8\uce58 \ucc45\uc744 \uc77d\uc73c\uba70 \uc778\uc0dd \ucee8\uc124\ud305(?)\uc744 \ubc1b\ub294 \ub290\ub08c\uc774 \ub4e4\uc5c8\ub2e4.  \\n<br></br>\\n\\n\uc800\uc790\ub294 \ucc45\uc744 \uc77d\uc73c\uba70 \ub3c5\uc790\uac00 \ubcf8\uc778 \uc778\uc0dd\uc5d0 3\uac00\uc9c0 \uc9c8\ubb38\uc744 \ub358\uc838\ubcf4\uace0 \uac01\uc790\uc758 \ud574\ub2f5\uc744 \ucc3e\uc544\ubcf4\uae30\ub97c \uc6d0\ud588\uc744 \uac83\uc774\ub2e4. \ud558\uc9c0\ub9cc \ub098\ub294 \ucc45\uc744 \uc77d\uc73c\uba70 \ud64d\uc11d\uc774\uac00 \uc65c \uc774 \ucc45\uc744 \uc88b\uc544\ud588\uc744\uc9c0, \uc65c \ub098\uc5d0\uac8c \uc774 \ucc45\uc744 \ucd94\ucc9c\ud588\uc744\uc9c0\ub97c \ub354 \ub9ce\uc774 \uc0dd\uac01\ud588\ub358 \uac83 \uac19\ub2e4.\\n\ub0b4\uac00 \uc544\ub294 \ud64d\uc11d\uc774\ub294 \uc5f4\uc815\uc801\uc774\uace0 \uacc4\ud68d\uc801\uc778 \ud3b8\uc778\ub370, \ud2b9\ud788 \ud604\uc7ac \uc790\uc2e0\uc774 \ubb34\uc5c7\uc744 \uc6d0\ud558\ub294\uc9c0 \uc54c\uace0 \uc788\uace0 \uba85\ud655\ud558\uac8c \ub9d0\ud558\ub294 \ubaa8\uc2b5\uc774 \ud2b9\ubcc4\ud788 \uae30\uc5b5\uc5d0 \ub0a8\ub294\ub2e4. \ud64d\uc11d\uc774\uc758 \uadf8\ub7f0\uc5d0\ub294 \uc544\ub9c8 \uc774 \ucc45\uc758 \uc601\ud5a5\uc774 \uc788\uc9c0 \uc54a\uc558\uc744\uae4c \uc2f6\ub2e4.  \\n<br></br>\\n\\n\ub098\ub3c4 \uc774 \ucc45\uc744 \uacc4\uae30\ub85c \ub0b4\uac00 \ud604\uc7ac \ubb34\uc5c7\uc744 \uc6d0\ud558\ub294\uc9c0 \ub354 \uc138\uc2ec\ud788 \uc0b4\ud3b4\ubcf4\uace0 \uc2f6\ub2e4. \ucc45\uc5d0\uc11c\ub3c4 \ub098\uc624\uc9c0\ub9cc \ub2e8\uc2dc\uac04\uc5d0 \ud574\ub2f5\uc744 \ucc3e\uc744 \uc218 \uc788\ub294 \uc9c8\ubb38\uc740 \uc544\ub2c8\ub77c \uc0dd\uac01\ud55c\ub2e4. \ud558\uc9c0\ub9cc \uac00\ub054\uc774\ub77c\ub3c4 \uc774 \uc9c8\ubb38\uc744 \ub5a0\uc62c\ub824\ubcf4\uace0 \ub0b4\uac00 \uc778\uc0dd\uc744 \uc798 \uc0b4\uc544\uac00\uace0 \uc788\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\ub294 \uc815\ub3c4\ub85c\ub3c4 \ud070 \ub3c4\uc6c0\uc774 \ub418\uc9c0 \uc54a\uc744\uae4c \uc2f6\ub2e4."}]}}')}}]);