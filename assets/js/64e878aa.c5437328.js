"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[8653],{8268:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>o,default:()=>g,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var i=t(4848),l=t(8453);const a={title:"\ub514\uc790\uc778 \ud328\ud134 - Singleton Pattern",description:"\uc774 \uae00\uc740 Singleton Pattern\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. Singleton Pattern\uc740 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \ud558\ub098\ub9cc \uc0dd\uc131\ud558\uace0, \ud574\ub2f9 \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc804\uc5ed\uc801\uc73c\ub85c \uc811\uadfc\ud560 \uc218 \uc788\ub3c4\ub85d \ubcf4\uc7a5\ud558\ub294 \ub514\uc790\uc778 \ud328\ud134\uc785\ub2c8\ub2e4. \uc774 \uae00\uc5d0\uc11c\ub294 synchronized \ud0a4\uc6cc\ub4dc, static \ud544\ub4dc, \uadf8\ub9ac\uace0 DCL (Double-Checked Locking) \ubc29\uc2dd\uc758 \uc138 \uac00\uc9c0 Singleton \uad6c\ud604 \ubc29\ubc95\uc744 \ube44\uad50\ud569\ub2c8\ub2e4. \ub610\ud55c, volatile \ud0a4\uc6cc\ub4dc\uac00 \uc801\uc6a9\ub41c \ubcc0\uc218\uc640 \uadf8\ub807\uc9c0 \uc54a\uc740 \ubcc0\uc218\uc758 \uc870\ud68c \uc131\ub2a5\uc744 \ube44\uad50\ud558\ub294 \ucf54\ub4dc\ub97c \ud1b5\ud574 \uc131\ub2a5 \ucc28\uc774\ub97c \ubd84\uc11d\ud569\ub2c8\ub2e4. Singleton Pattern\uc758 \uac1c\ub150\uacfc \uad6c\ud604 \ubc29\ubc95\uc744 \uc774\ud574\ud558\ub294 \ub370 \uc911\uc810\uc744 \ub461\ub2c8\ub2e4.",authors:["woosuk"],tags:["design pattern","singleton pattern"],date:new Date("2024-05-26T00:00:00.000Z")},o=void 0,r={permalink:"/singleton-pattern",source:"@site/blog/singleton-pattern.md",title:"\ub514\uc790\uc778 \ud328\ud134 - Singleton Pattern",description:"\uc774 \uae00\uc740 Singleton Pattern\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. Singleton Pattern\uc740 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \ud558\ub098\ub9cc \uc0dd\uc131\ud558\uace0, \ud574\ub2f9 \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc804\uc5ed\uc801\uc73c\ub85c \uc811\uadfc\ud560 \uc218 \uc788\ub3c4\ub85d \ubcf4\uc7a5\ud558\ub294 \ub514\uc790\uc778 \ud328\ud134\uc785\ub2c8\ub2e4. \uc774 \uae00\uc5d0\uc11c\ub294 synchronized \ud0a4\uc6cc\ub4dc, static \ud544\ub4dc, \uadf8\ub9ac\uace0 DCL (Double-Checked Locking) \ubc29\uc2dd\uc758 \uc138 \uac00\uc9c0 Singleton \uad6c\ud604 \ubc29\ubc95\uc744 \ube44\uad50\ud569\ub2c8\ub2e4. \ub610\ud55c, volatile \ud0a4\uc6cc\ub4dc\uac00 \uc801\uc6a9\ub41c \ubcc0\uc218\uc640 \uadf8\ub807\uc9c0 \uc54a\uc740 \ubcc0\uc218\uc758 \uc870\ud68c \uc131\ub2a5\uc744 \ube44\uad50\ud558\ub294 \ucf54\ub4dc\ub97c \ud1b5\ud574 \uc131\ub2a5 \ucc28\uc774\ub97c \ubd84\uc11d\ud569\ub2c8\ub2e4. Singleton Pattern\uc758 \uac1c\ub150\uacfc \uad6c\ud604 \ubc29\ubc95\uc744 \uc774\ud574\ud558\ub294 \ub370 \uc911\uc810\uc744 \ub461\ub2c8\ub2e4.",date:"2024-05-26T00:00:00.000Z",tags:[{label:"design pattern",permalink:"/tags/design-pattern"},{label:"singleton pattern",permalink:"/tags/singleton-pattern"}],readingTime:5.685,hasTruncateMarker:!0,authors:[{name:"\uad8c\uc6b0\uc11d",title:"Server Developer",url:"https://github.com/egg528",imageURL:"https://avatars.githubusercontent.com/u/62459196?v=4",key:"woosuk"}],frontMatter:{title:"\ub514\uc790\uc778 \ud328\ud134 - Singleton Pattern",description:"\uc774 \uae00\uc740 Singleton Pattern\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. Singleton Pattern\uc740 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \ud558\ub098\ub9cc \uc0dd\uc131\ud558\uace0, \ud574\ub2f9 \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc804\uc5ed\uc801\uc73c\ub85c \uc811\uadfc\ud560 \uc218 \uc788\ub3c4\ub85d \ubcf4\uc7a5\ud558\ub294 \ub514\uc790\uc778 \ud328\ud134\uc785\ub2c8\ub2e4. \uc774 \uae00\uc5d0\uc11c\ub294 synchronized \ud0a4\uc6cc\ub4dc, static \ud544\ub4dc, \uadf8\ub9ac\uace0 DCL (Double-Checked Locking) \ubc29\uc2dd\uc758 \uc138 \uac00\uc9c0 Singleton \uad6c\ud604 \ubc29\ubc95\uc744 \ube44\uad50\ud569\ub2c8\ub2e4. \ub610\ud55c, volatile \ud0a4\uc6cc\ub4dc\uac00 \uc801\uc6a9\ub41c \ubcc0\uc218\uc640 \uadf8\ub807\uc9c0 \uc54a\uc740 \ubcc0\uc218\uc758 \uc870\ud68c \uc131\ub2a5\uc744 \ube44\uad50\ud558\ub294 \ucf54\ub4dc\ub97c \ud1b5\ud574 \uc131\ub2a5 \ucc28\uc774\ub97c \ubd84\uc11d\ud569\ub2c8\ub2e4. Singleton Pattern\uc758 \uac1c\ub150\uacfc \uad6c\ud604 \ubc29\ubc95\uc744 \uc774\ud574\ud558\ub294 \ub370 \uc911\uc810\uc744 \ub461\ub2c8\ub2e4.",authors:["woosuk"],tags:["design pattern","singleton pattern"],date:"2024-05-26T00:00:00.000Z"},unlisted:!1,prevItem:{title:"\ub514\uc790\uc778 \ud328\ud134 - Command Pattern",permalink:"/command-pattern"},nextItem:{title:"\ub514\uc790\uc778 \ud328\ud134 - Factory Pattern",permalink:"/factory-pattern"}},s={authorsImageUrls:[void 0]},c=[{value:"Singleton Pattern\uc740 \ubb34\uc5c7\uc778\uac00?",id:"singleton-pattern\uc740-\ubb34\uc5c7\uc778\uac00",level:2},{value:"(1) synchronized \ud0a4\uc6cc\ub4dc \uc0ac\uc6a9\ud558\uae30",id:"1-synchronized-\ud0a4\uc6cc\ub4dc-\uc0ac\uc6a9\ud558\uae30",level:3},{value:"(2) static \ud544\ub4dc \uc0ac\uc6a9\ud558\uae30",id:"2-static-\ud544\ub4dc-\uc0ac\uc6a9\ud558\uae30",level:3},{value:"(3) DCL(Double-Checked Locking) \uc0ac\uc6a9\ud558\uae30",id:"3-dcldouble-checked-locking-\uc0ac\uc6a9\ud558\uae30",level:3},{value:"\uc815\ub9ac",id:"\uc815\ub9ac",level:2}];function d(n){const e={blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:[(0,i.jsxs)(e.strong,{children:["\u2705"," ChatGPT \uc694\uc57d"]}),(0,i.jsx)(e.br,{}),"\n","\uc774 \uae00\uc740 Singleton Pattern\uc5d0 \ub300\ud574 \uc124\uba85\ud569\ub2c8\ub2e4. Singleton Pattern\uc740 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \ud558\ub098\ub9cc \uc0dd\uc131\ud558\uace0, \ud574\ub2f9 \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc804\uc5ed\uc801\uc73c\ub85c \uc811\uadfc\ud560 \uc218 \uc788\ub3c4\ub85d \ubcf4\uc7a5\ud558\ub294 \ub514\uc790\uc778 \ud328\ud134\uc785\ub2c8\ub2e4. \uc774 \uae00\uc5d0\uc11c\ub294 synchronized \ud0a4\uc6cc\ub4dc, static \ud544\ub4dc, \uadf8\ub9ac\uace0 DCL (Double-Checked Locking) \ubc29\uc2dd\uc758 \uc138 \uac00\uc9c0 Singleton \uad6c\ud604 \ubc29\ubc95\uc744 \ube44\uad50\ud569\ub2c8\ub2e4. \ub610\ud55c, volatile \ud0a4\uc6cc\ub4dc\uac00 \uc801\uc6a9\ub41c \ubcc0\uc218\uc640 \uadf8\ub807\uc9c0 \uc54a\uc740 \ubcc0\uc218\uc758 \uc870\ud68c \uc131\ub2a5\uc744 \ube44\uad50\ud558\ub294 \ucf54\ub4dc\ub97c \ud1b5\ud574 \uc131\ub2a5 \ucc28\uc774\ub97c \ubd84\uc11d\ud569\ub2c8\ub2e4. Singleton Pattern\uc758 \uac1c\ub150\uacfc \uad6c\ud604 \ubc29\ubc95\uc744 \uc774\ud574\ud558\ub294 \ub370 \uc911\uc810\uc744 \ub461\ub2c8\ub2e4."]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.h2,{id:"singleton-pattern\uc740-\ubb34\uc5c7\uc778\uac00",children:"Singleton Pattern\uc740 \ubb34\uc5c7\uc778\uac00?"}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Singleton Pattern\uc740 \ud074\ub798\uc2a4 \uc778\uc2a4\ud134\uc2a4\ub97c \ud558\ub098\ub9cc \ub9cc\ub4e4\uace0, \uadf8 \uc778\uc2a4\ud134\uc2a4\ub85c\uc758 \uc804\uc5ed \uc811\uadfc\uc744 \uc81c\uacf5\ud558\ub294 \ud328\ud134\uc744 \ub73b\ud55c\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\ub514\uc790\uc778 \ud328\ud134 \uc911 \uac00\uc7a5 \uce5c\uc219\ud558\ub2e4. \ucc45\uc5d0\uc11c \uc81c\uc2dc\ub41c \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud558\uc9c0\ub294 \uc54a\uc9c0\ub9cc Spring Framework\uc758 Bean Scope Default\uac12\uc774 Singleton\uc774\uae30 \ub54c\ubb38\uc774\ub2e4.\n\ucc45\uc5d0\uc11c\ub3c4 \uc5b8\uae09\ub418\uc9c0\ub9cc \uac00\uc7a5 \uac04\ub2e8\ud55c Design Pattern \uc911 \ud558\ub098\uc774\uae30 \ub54c\ubb38\uc5d0 \uad6c\ud604 \ubc29\uc2dd 3\uac00\uc9c0\ub9cc \uc54c\uc544\ubcf4\ub824 \ud55c\ub2e4."}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.h3,{id:"1-synchronized-\ud0a4\uc6cc\ub4dc-\uc0ac\uc6a9\ud558\uae30",children:"(1) synchronized \ud0a4\uc6cc\ub4dc \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class SynchronizedSingleton {\n    private static SynchronizedSingleton instance;\n\n    private SynchronizedSingleton() {}\n\n    public static synchronized SynchronizedSingleton getInstance() {\n        if(instance == null) {\n            instance = new SynchronizedSingleton();\n        }\n\n        return instance;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"\uba54\uc11c\ub4dc\uc5d0 synchronized \ud0a4\uc6cc\ub4dc\ub97c \ucd94\uac00\ud574 private \uc0dd\uc131\uc790\uc758 \ud638\ucd9c\uc774 1\ubc88\ub9cc \uc77c\uc5b4\ub0a0 \uc218 \uc788\ub3c4\ub85d \uac15\uc81c\ud558\ub294 \ubc29\uc2dd\uc774\ub2e4.\n\ud558\uc9c0\ub9cc getInstance() \uba54\uc11c\ub4dc\ub97c \uc774\uc6a9\ud560 \ub54c\ub9c8\ub2e4 \ub9e4\ubc88 synchronized\uac00 \ub3d9\uc791\ud574 \uc131\ub2a5 \uce21\uba74\uc5d0\uc11c \uc544\uc26c\uc6c0\uc774 \uc788\ub2e4.\n\uc131\ub2a5\uc774 \ud06c\uac8c \uc911\uc694\ud558\uc9c0 \uc54a\ub2e4\uba74 \uc774\ub807\uac8c \uc0ac\uc6a9\ud574\ub3c4 \ubb34\ubc29\ud558\ub2e4\uace0 \ud55c\ub2e4."}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.h3,{id:"2-static-\ud544\ub4dc-\uc0ac\uc6a9\ud558\uae30",children:"(2) static \ud544\ub4dc \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class StaticSingleton {\n    private static StaticSingleton instance = new StaticSingleton();\n\n    private StaticSingleton() {}\n\n    public static StaticSingleton getInstance() {\n        return instance;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"getInstance() \uba54\uc11c\ub4dc\uc5d0\uc11c \ucd08\uae30\ud654 \ub85c\uc9c1\uc744 \uc81c\uac70\ud558\uace0 \uc815\uc801 \ucd08\uae30\ud654 \ub2e8\uacc4\uc5d0\uc11c \ud544\ub4dc \ucd08\uae30\ud654\ub97c \uc9c4\ud589\ud55c\ub2e4.\n\ub9cc\uc57d Application \uc2e4\ud589 \uc911 \uc0ac\uc6a9\ub418\uc9c0 \uc54a\uc744 \uc218\ub3c4 \uc788\ub294 \ud074\ub798\uc2a4\ub77c\uba74 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc744 \uc778\uc2a4\ud134\uc2a4\ub97c \ub9cc\ub4e4\uae30 \ub54c\ubb38\uc5d0 \ub0ad\ube44\uc774\ub2e4."}),"\n",(0,i.jsx)(e.h3,{id:"3-dcldouble-checked-locking-\uc0ac\uc6a9\ud558\uae30",children:"(3) DCL(Double-Checked Locking) \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class VolatileSingleton {\n    private volatile static VolatileSingleton instance;\n\n    private VolatileSingleton() {}\n\n    public static VolatileSingleton getInstance() {\n        if (instance == null) {\n            synchronized (VolatileSingleton.class) {\n                if (instance == null) {\n                    instance = new VolatileSingleton();\n                }\n            }\n        }\n\n        return instance;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"\uc2f1\uae00\ud1a4 \ud544\ub4dc\uc5d0 volatile \ud0a4\uc6cc\ub4dc\ub97c \uc801\uc6a9\ud574 \ud56d\uc0c1 main memory\uc758 \uc815\ud655\ud55c \uc778\uc2a4\ud134\uc2a4\ub97c \uc77d\ub3c4\ub85d \uc801\uc6a9\ud55c\ub2e4.\n\uc774\ud6c4 getInstance()\uc5d0\uc11c synchronized \ud0a4\uc6cc\ub4dc\ub97c method\uc5d0 \uc801\uc6a9\ud558\uc9c0 \uc54a\uace0 synchronized \ucf54\ub4dc \ube14\ub7ed\uc744 \ud65c\uc6a9\ud574 instance \uac12\uc774 null\uc77c \uacbd\uc6b0\uc5d0\ub9cc synchronized\ub97c \uc801\uc6a9\ud574 \ucd08\uae30\ud654 \uc774\ud6c4\uc5d0\ub294 \ubc14\ub85c instance\ub97c \ubc18\ud658\ud558\ub3c4\ub85d \ud55c\ub2e4."}),"\n",(0,i.jsx)(e.h2,{id:"\uc815\ub9ac",children:"\uc815\ub9ac"}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.p,{children:"\uad6c\ud604\uacfc \uac1c\ub150\uc774 \uac04\ub2e8\ud558\uace0 \uc790\uc8fc \uc811\ud558\ub294 \ud328\ud134\uc774\ub77c \uc5b4\ub835\uc9c0 \uc54a\uc558\ub2e4. 3\uac00\uc9c0 \ubc29\uc2dd \uc911 DCL\uc774 \ub2e8\uc810\uc774 \uc5c6\uc5b4 \ubcf4\uc774\uc9c0\ub9cc 3\uac1c \uc911\uc5d0\uc11c\ub294 \uac00\uc7a5 \ubcf5\uc7a1\ud574 \ubcf4\uc778\ub2e4. \ubcf5\uc7a1\ud568 \uc774\uc678\uc758 \ub2e8\uc810\uc774\ub77c\uba74 volatile \ud0a4\uc6cc\ub4dc\uac00 \uc801\uc6a9\ub418\uc5b4 \uc77d\uae30 \uc18d\ub3c4\uac00 \ub290\ub9b4 \uc218 \uc788\uc744 \uac83 \uac19\ub2e4."}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class VolatilePerformanceTest {\n    private static final int ITERATIONS = 100_000_000;\n\n    public static void main(String[] args) {\n        // warm up\n        VolatileVariable warmUpVolatileVar = new VolatileVariable();\n        for (int i = 0; i < ITERATIONS; i++) {\n            warmUpVolatileVar.getValue();\n        }\n\n        NonVolatileVariable warmUpNonVolatileVar = new NonVolatileVariable();\n        for (int i = 0; i < ITERATIONS; i++) {\n            warmUpNonVolatileVar.getValue();\n        }\n\n        // Test with volatile variable\n        VolatileVariable volatileVar = new VolatileVariable();\n        long volatileStartTime = System.nanoTime();\n        for (int i = 0; i < ITERATIONS; i++) {\n            volatileVar.getValue();\n        }\n        long volatileEndTime = System.nanoTime();\n        long volatileDuration = (volatileEndTime - volatileStartTime) / 1_000_000; // Convert to milliseconds\n\n        // Test without volatile variable\n        NonVolatileVariable nonVolatileVar = new NonVolatileVariable();\n        long nonVolatileStartTime = System.nanoTime();\n        for (int i = 0; i < ITERATIONS; i++) {\n            nonVolatileVar.getValue();\n        }\n        long nonVolatileEndTime = System.nanoTime();\n        long nonVolatileDuration = (nonVolatileEndTime - nonVolatileStartTime) / 1_000_000; // Convert to milliseconds\n\n        // Print results\n        System.out.println("Volatile variable duration: " + volatileDuration + " ms");\n        System.out.println("Non-volatile variable duration: " + nonVolatileDuration + " ms");\n    }\n\n    static class VolatileVariable {\n        private volatile int value = 42;\n\n        public int getValue() {\n            return value;\n        }\n    }\n\n    static class NonVolatileVariable {\n        private int value = 42;\n\n        public int getValue() {\n            return value;\n        }\n    }\n}\n\n// Volatile variable duration: 4 ms\n// Non-volatile variable duration: 1 ms\n'})}),"\n",(0,i.jsx)(e.p,{children:"\uc704 \ucf54\ub4dc\ub85c \ud14c\uc2a4\ud2b8\ub97c \uc9c4\ud589\ud574\ubcf4\ub2c8 volatile \ud0a4\uc6cc\ub4dc\uac00 \uc801\uc6a9\ub41c \ubcc0\uc218\ub97c \uc77d\ub294 \uac83\uc774 \ud3c9\uade0\uc801\uc73c\ub85c \uc57d 4\ubc30 \ub290\ub9b0 \uac83 \uac19\ub2e4. \ud558\uc9c0\ub9cc \ub2e8\uc21c \ubcc0\uc218 \uc811\uadfc\uc5d0\uc11c 10\uc5b5 \ubc88\uc744 \uc218\ud589\ud588\uc744 \ub54c 4ms\ub77c\uba74.. \ud070 \ubb38\uc81c\uac00 \uc0dd\uae30\ub294 \uc815\ub3c4\ub294 \uc544\ub2d0 \uac83 \uac19\ub2e4.\n\uc0ac\uc2e4 \ubcf5\uc7a1\ud568\ub3c4 \uc0c1\ub300\uc801\uc778 \uac70\ub77c \uc808\ub300\uc801\uc778 \ubcf5\uc7a1\ud568\uc774 \ud06c\uc9c0\ub294 \uc54a\uc544 \ubcf4\uc774\uae30 \ub54c\ubb38\uc5d0 Singleton \uac1d\uccb4\ub97c \uc0dd\uc131\ud574\uc57c \ud55c\ub2e4\uba74 DCL \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud558\ub294 \uac8c \uac00\uc7a5 \ud569\ub9ac\uc801\uc77c \uac83 \uac19\ub2e4."})]})}function g(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>r});var i=t(6540);const l={},a=i.createContext(l);function o(n){const e=i.useContext(a);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);